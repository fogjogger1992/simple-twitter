{"version":3,"sources":["webpack:///./src/components/TweetCard.vue?c315","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./src/views/UserReplies.vue?efec","webpack:///src/views/UserReplies.vue","webpack:///./src/views/UserReplies.vue?2380","webpack:///./src/views/UserReplies.vue","webpack:///./src/components/TweetCard.vue?ba46","webpack:///src/components/TweetCard.vue","webpack:///./src/components/TweetCard.vue?730c","webpack:///./src/components/TweetCard.vue?c209"],"names":["collection","collectionStrong","module","exports","init","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_l","tweet","key","id","attrs","staticRenderFns","name","components","TweetCard","data","tweets","computed","created","fetchReplies","beforeRouteUpdate","next","methods","component","VContainer","staticStyle","params","User","_f","avatar","_v","_s","account","createdAt","description","on","$event","stopPropagation","preventDefault","replyTweet","apply","replyCounts","class","cursorStyle","isLiked","currentUser","deleteLike","addLike","likeCounts","props","initialTweet","type","Object","required","mixins","setTweet","setTweetReplyDialogOpen","VAvatar","VCard","VCol","VIcon","VImg","VRow"],"mappings":"kHAAA,W,kCCCA,IAAIA,EAAa,EAAQ,QACrBC,EAAmB,EAAQ,QAI/BC,EAAOC,QAAUH,EAAW,OAAO,SAAUI,GAC3C,OAAO,WAAiB,OAAOA,EAAKC,KAAMC,UAAUC,OAASD,UAAU,QAAKE,MAC3EP,I,2CCRH,IAAIQ,EAAS,WAAa,IAAIC,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,aAAaL,EAAIM,GAAIN,EAAU,QAAE,SAASO,GAAO,OAAOJ,EAAG,YAAY,CAACK,IAAID,EAAME,GAAGC,MAAM,CAAC,gBAAgBH,QAAW,IACjPI,EAAkB,G,gJCYtB,GACEC,KAAM,cACNC,WAAY,CACVC,UAAJ,QAEEC,KALF,WAMI,MAAO,CACLC,OAAQ,KAGZC,SAAU,OAAZ,OAAY,CAAZ,GACA,iCAEEC,QAbF,WAcI,IAAJ,wBACIvB,KAAKwB,aAAaV,IAEpBW,kBAjBF,SAiBA,OACI,IAAJ,cACIzB,KAAKwB,aAAaV,GAClBY,KAEFC,QAAS,CACP,aADJ,SACA,kMAEA,kCAFA,mBAEA,EAFA,EAEA,KAEA,mBAJA,sBAKA,qBALA,OAQA,KACA,iDAEA,UACA,+BACA,4BAGA,WAhBA,qDAkBA,aACA,aACA,0BApBA,+DCpCqV,I,6CCOjVC,EAAY,eACd,EACAxB,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAY,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,aAAA,Q,oCCvB9B,IAAIzB,EAAS,WAAa,IAAIC,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,OAAOoB,YAAY,CAAC,gBAAgB,kCAAkCf,MAAM,CAAC,KAAO,GAAG,KAAO,KAAK,CAACP,EAAG,QAAQ,CAACE,YAAY,OAAOoB,YAAY,CAAC,YAAY,UAAUf,MAAM,CAAC,aAAa,KAAK,CAACP,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACO,MAAM,CAAC,GAAK,CAAEE,KAAM,OAAQc,OAAQ,CAAEjB,GAAIT,EAAIO,MAAMoB,KAAKlB,OAAS,CAACN,EAAG,WAAW,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAMV,EAAI4B,GAAG,aAAP5B,CAAqBA,EAAIO,MAAMoB,KAAKE,QAAQ,IAAM7B,EAAIO,MAAMoB,KAAKf,SAAS,IAAI,IAAI,GAAGT,EAAG,QAAQ,CAACE,YAAY,gBAAgBK,MAAM,CAAC,KAAO,OAAO,CAACP,EAAG,cAAc,CAACsB,YAAY,CAAC,kBAAkB,QAAQf,MAAM,CAAC,GAAK,CAAEE,KAAM,QAASc,OAAQ,CAAEjB,GAAIT,EAAIO,MAAME,OAAS,CAACN,EAAG,QAAQ,CAACE,YAAY,OAAOK,MAAM,CAAC,aAAa,GAAG,MAAQ,WAAW,CAACP,EAAG,IAAI,CAACE,YAAY,8CAA8C,CAACL,EAAI8B,GAAG,IAAI9B,EAAI+B,GAAG/B,EAAIO,MAAMoB,KAAKf,MAAM,OAAOT,EAAG,IAAI,CAACE,YAAY,uDAAuD,CAACL,EAAI8B,GAAG,KAAK9B,EAAI+B,GAAG/B,EAAIO,MAAMoB,KAAKK,SAAS,OAAO7B,EAAG,IAAI,CAACE,YAAY,4DAA4D,CAACL,EAAI8B,GAAG,MAAM9B,EAAI+B,GAAG/B,EAAI4B,GAAG,UAAP5B,CAAkBA,EAAIO,MAAM0B,YAAY,SAAS9B,EAAG,QAAQ,CAACE,YAAY,0BAA0BK,MAAM,CAAC,aAAa,GAAG,MAAQ,WAAW,CAACP,EAAG,QAAQ,CAACE,YAAY,YAAYK,MAAM,CAAC,KAAO,OAAO,CAACP,EAAG,IAAI,CAACE,YAAY,2DAA2D,CAACL,EAAI8B,GAAG,IAAI9B,EAAI+B,GAAG/B,EAAIO,MAAM2B,aAAa,UAAU,IAAI,GAAG/B,EAAG,QAAQ,CAACE,YAAY,0BAA0BK,MAAM,CAAC,aAAa,GAAG,MAAQ,WAAW,CAACP,EAAG,QAAQ,CAACE,YAAY,oCAAoCK,MAAM,CAAC,KAAO,MAAM,CAACP,EAAG,MAAM,CAACE,YAAY,qCAAqC8B,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBtC,EAAIuC,WAAWC,MAAM,KAAM5C,cAAc,CAACO,EAAG,SAAS,CAACsB,YAAY,CAAC,YAAY,QAAQf,MAAM,CAAC,MAAQ,SAAS,CAACV,EAAI8B,GAAG,oBAAoB3B,EAAG,IAAI,CAACE,YAAY,2DAA2D,CAACL,EAAI8B,GAAG,IAAI9B,EAAI+B,GAAG/B,EAAIO,MAAMkC,aAAa,QAAQ,KAAKtC,EAAG,QAAQ,CAACE,YAAY,oCAAoCK,MAAM,CAAC,KAAO,MAAM,CAACP,EAAG,MAAM,CAACE,YAAY,sBAAsBqC,MAAM1C,EAAI2C,aAAa,CAAG3C,EAAIO,MAAMqC,QAA8QzC,EAAG,SAAS,CAACsB,YAAY,CAAC,YAAY,QAAQf,MAAM,CAAC,SAAWV,EAAI6C,YAAYpC,KAAOT,EAAIO,MAAMoB,KAAKlB,GAAG,MAAQ,OAAO0B,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBtC,EAAI8C,WAAW9C,EAAIO,MAAME,OAAO,CAACT,EAAI8B,GAAG,kBAA1f3B,EAAG,SAAS,CAACsB,YAAY,CAAC,YAAY,QAAQf,MAAM,CAAC,SAAWV,EAAI6C,YAAYpC,KAAOT,EAAIO,MAAMoB,KAAKlB,GAAG,MAAQ,QAAQ0B,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBtC,EAAI+C,QAAQ/C,EAAIO,MAAME,OAAO,CAACT,EAAI8B,GAAG,kBAAyR3B,EAAG,IAAI,CAACE,YAAY,wCAAwC,CAACL,EAAI8B,GAAG,IAAI9B,EAAI+B,GAAG/B,EAAIO,MAAMyC,YAAY,QAAQ,MAAM,IAAI,IAAI,IAAI,IAC/2FrC,EAAkB,G,oFCgGtB,GACEC,KAAM,YACNqC,MAAO,CACLC,aAAc,CACZC,KAAMC,OACNC,UAAU,IAGdC,OAAQ,CAAC,EAAX,aACEvC,KATF,WAUI,MAAO,CACLR,MAAO,OAAb,OAAa,CAAb,GACA,qBAKEU,SAAU,OAAZ,OAAY,CAAZ,CACI0B,YADJ,WAEM,OAAOhD,KAAKkD,YAAYpC,KAAOd,KAAKY,MAAMoB,KAAKlB,GACrD,gBACA,mBAEA,iCAEEa,QAAS,OAAX,OAAW,CAAX,gBACIiB,WADJ,WAIM5C,KAAK4D,SAAS5D,KAAKY,OAEnBZ,KAAK6D,yBAAwB,KAEnC,gBACI,SAAJ,kBACI,wBAAJ,oCAVA,IAaI,QAbJ,SAaA,+KAGA,mCAHA,uBAIA,aACA,aACA,yBAEA,eARA,0CAWA,4BAXA,mBAWA,EAXA,EAWA,KAEA,qBAbA,uBAcA,qBAdA,QAiBA,yCACA,SADA,IAEA,WACA,kCApBA,qDAuBA,0BACA,aACA,aACA,4BA1BA,6DA8BI,WA3CJ,SA2CA,4LAEA,+BAFA,mBAEA,EAFA,EAEA,KAEA,qBAJA,sBAKA,qBALA,OAQA,yCACA,SADA,IAEA,WACA,kCAGA,+BAdA,qDAgBA,0BACA,aACA,aACA,4BAnBA,gECrKmV,I,qHCQ/UjC,EAAY,eACd,EACAxB,EACAY,GACA,EACA,KACA,KACA,MAIa,OAAAY,EAAiB,QAUhC,IAAkBA,EAAW,CAACkC,UAAA,KAAQC,QAAA,KAAMC,OAAA,KAAKC,QAAA,KAAMC,OAAA,KAAKC,OAAA,Q","file":"js/chunk-379a2c0c.ef452120.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"ma-0 pa-0\"},_vm._l((_vm.tweets),function(tweet){return _c('TweetCard',{key:tweet.id,attrs:{\"initial-tweet\":tweet}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"ma-0 pa-0\">\r\n    <!-- tweets list -->\r\n    <TweetCard v-for=\"tweet in tweets\" :key=\"tweet.id\" :initial-tweet=\"tweet\" />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport TweetCard from \"../components/TweetCard.vue\";\r\nimport { mapState } from \"vuex\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"./../utils/helpers\";\r\n\r\nexport default {\r\n  name: \"UserReplies\",\r\n  components: {\r\n    TweetCard,\r\n  },\r\n  data() {\r\n    return {\r\n      tweets: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  created() {\r\n    const { id } = this.$route.params;\r\n    this.fetchReplies(id);\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { id } = to.params;\r\n    this.fetchReplies(id);\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchReplies(userId) {\r\n      try {\r\n        const { data } = await usersAPI.getUserReplies({ userId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        const replies = [];\r\n        data.forEach((object) => replies.push(object.Tweet));\r\n        // 同則推文重複回覆時只顯示一次回覆過的原推文\r\n        const set = new Set();\r\n        const filteredReplies = replies.filter((item) =>\r\n          !set.has(item.id) ? set.add(item.id) : false\r\n        );\r\n\r\n        this.tweets = filteredReplies;\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得使用者推文，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script> ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserReplies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserReplies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserReplies.vue?vue&type=template&id=4cca8883&\"\nimport script from \"./UserReplies.vue?vue&type=script&lang=js&\"\nexport * from \"./UserReplies.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-3\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-row',{staticClass:\"pa-0\",staticStyle:{\"flex-wrap\":\"nowrap\"},attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-1\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.tweet.User.id } }}},[_c('v-avatar',{staticClass:\"mt-1\"},[_c('v-img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.User.avatar),\"alt\":_vm.tweet.User.name}})],1)],1)],1),_c('v-col',{staticClass:\"flex-shrink-1\",attrs:{\"cols\":\"11\"}},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'tweet', params: { id: _vm.tweet.id } }}},[_c('v-row',{staticClass:\"pa-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('p',{staticClass:\"subtitle-2 font-weight-bold mr-1 my-0 pa-0\"},[_vm._v(\" \"+_vm._s(_vm.tweet.User.name)+\" \")]),_c('p',{staticClass:\"subtitle-2 grey--text font-weight-regular my-0 pa-0\"},[_vm._v(\" @\"+_vm._s(_vm.tweet.User.account)+\" \")]),_c('p',{staticClass:\"subtitle-2 font-weight-regular grey--text pa-0 my-0 ml-1\"},[_vm._v(\" ‧ \"+_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt))+\" \")])]),_c('v-row',{staticClass:\"font-weight-normal px-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"12\"}},[_c('p',{staticClass:\"body-2 black--text font-weight-normal text-justify my-0\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")])])],1)],1),_c('v-row',{staticClass:\"font-weight-normal pa-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"d-flex justify-space-between mr-5\",attrs:{\"cols\":\"1\"}},[_c('div',{staticClass:\"d-flex align-center cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.replyTweet.apply(null, arguments)}}},[_c('v-icon',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"color\":\"grey\"}},[_vm._v(\"far fa-comment\")]),_c('p',{staticClass:\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-2\"},[_vm._v(\" \"+_vm._s(_vm.tweet.replyCounts)+\" \")])],1)]),_c('v-col',{staticClass:\"d-flex justify-space-between ml-5\",attrs:{\"cols\":\"1\"}},[_c('div',{staticClass:\"d-flex align-center\",class:_vm.cursorStyle},[(!_vm.tweet.isLiked)?_c('v-icon',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"disabled\":_vm.currentUser.id === _vm.tweet.User.id,\"color\":\"grey\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(_vm.tweet.id)}}},[_vm._v(\"far fa-heart\")]):_c('v-icon',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"disabled\":_vm.currentUser.id === _vm.tweet.User.id,\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteLike(_vm.tweet.id)}}},[_vm._v(\"fas fa-heart\")]),_c('p',{staticClass:\"subtitle-2 grey--text pa-0 my-0 ml-2\"},[_vm._v(\" \"+_vm._s(_vm.tweet.likeCounts)+\" \")])],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card\r\n    flat\r\n    tile\r\n    class=\"pa-3\"\r\n    style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n  >\r\n    <v-row no-gutters class=\"pa-0\" style=\"flex-wrap: nowrap\">\r\n      <v-col class=\"flex-grow-1\">\r\n        <router-link :to=\"{ name: 'user', params: { id: tweet.User.id } }\">\r\n          <v-avatar class=\"mt-1\">\r\n            <v-img\r\n              :src=\"tweet.User.avatar | emptyImage\"\r\n              :alt=\"tweet.User.name\"\r\n            ></v-img>\r\n          </v-avatar>\r\n        </router-link>\r\n      </v-col>\r\n      <v-col cols=\"11\" class=\"flex-shrink-1\">\r\n        <router-link\r\n          :to=\"{ name: 'tweet', params: { id: tweet.id } }\"\r\n          style=\"text-decoration: none\"\r\n        >\r\n          <v-row no-gutters align=\"center\" class=\"pa-2\">\r\n            <p class=\"subtitle-2 font-weight-bold mr-1 my-0 pa-0\">\r\n              {{ tweet.User.name }}\r\n            </p>\r\n            <p class=\"subtitle-2 grey--text font-weight-regular my-0 pa-0\">\r\n              @{{ tweet.User.account }}\r\n            </p>\r\n            <p class=\"subtitle-2 font-weight-regular grey--text pa-0 my-0 ml-1\">\r\n              ‧ {{ tweet.createdAt | fromNow }}\r\n            </p>\r\n          </v-row>\r\n          <v-row no-gutters align=\"center\" class=\"font-weight-normal px-2\">\r\n            <v-col cols=\"12\" class=\"ma-0 pa-0\">\r\n              <p\r\n                class=\"body-2 black--text font-weight-normal text-justify my-0\"\r\n              >\r\n                {{ tweet.description }}\r\n              </p>\r\n            </v-col>\r\n          </v-row>\r\n        </router-link>\r\n        <v-row no-gutters align=\"center\" class=\"font-weight-normal pa-2\">\r\n          <v-col cols=\"1\" class=\"d-flex justify-space-between mr-5\">\r\n            <div\r\n              class=\"d-flex align-center cursor-pointer\"\r\n              @click.stop.prevent=\"replyTweet\"\r\n            >\r\n              <v-icon color=\"grey\" style=\"font-size: 18px\"\r\n                >far fa-comment</v-icon\r\n              >\r\n              <p\r\n                class=\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-2\"\r\n              >\r\n                {{ tweet.replyCounts }}\r\n              </p>\r\n            </div>\r\n          </v-col>\r\n          <v-col cols=\"1\" class=\"d-flex justify-space-between ml-5\">\r\n            <!-- isLiked / !isLiked -->\r\n            <div class=\"d-flex align-center\" :class=\"cursorStyle\">\r\n              <v-icon\r\n                :disabled=\"currentUser.id === tweet.User.id\"\r\n                v-if=\"!tweet.isLiked\"\r\n                color=\"grey\"\r\n                @click.stop.prevent=\"addLike(tweet.id)\"\r\n                style=\"font-size: 18px\"\r\n                >far fa-heart</v-icon\r\n              >\r\n              <v-icon\r\n                v-else\r\n                :disabled=\"currentUser.id === tweet.User.id\"\r\n                color=\"red\"\r\n                @click.stop.prevent=\"deleteLike(tweet.id)\"\r\n                style=\"font-size: 18px\"\r\n                >fas fa-heart</v-icon\r\n              >\r\n              <p class=\"subtitle-2 grey--text pa-0 my-0 ml-2\">\r\n                {{ tweet.likeCounts }}\r\n              </p>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n    </v-row>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\r\nimport { mapMutations } from \"vuex\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"TweetCard\",\r\n  props: {\r\n    initialTweet: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  mixins: [fromNowFilter, emptyImageFilter],\r\n  data() {\r\n    return {\r\n      tweet: {\r\n        ...this.initialTweet,\r\n      },\r\n      // tweetReplyDialogOpen: false,\r\n    };\r\n  },\r\n  computed: {\r\n    cursorStyle() {\r\n      return this.currentUser.id === this.tweet.User.id\r\n        ? \"cursor-normal\"\r\n        : \"cursor-pointer\";\r\n    },\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  methods: {\r\n    replyTweet() {\r\n      // console.log(\"replyTweet\");\r\n      // 把要回覆的該則推文傳給 store\r\n      this.setTweet(this.tweet);\r\n      // this.tweetReplyDialogOpen = true;\r\n      this.setTweetReplyDialogOpen(true);\r\n    },\r\n    ...mapMutations({\r\n      setTweet: \"tweets/setTweet\",\r\n      setTweetReplyDialogOpen: \"tweets/setTweetReplyDialogOpen\",\r\n    }),\r\n    // TODO: 在個人頁面的即時更新\r\n    async addLike(tweetId) {\r\n      try {\r\n        // 只能按別人的\r\n        if (this.tweet.User.id === this.currentUser.id) {\r\n          Toast.fire({\r\n            icon: \"error\",\r\n            title: \"無法將自己的推文加入LIKE\",\r\n          });\r\n          this.isLoading = false;\r\n          return;\r\n        }\r\n        const { data } = await usersAPI.addLike({ tweetId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: true,\r\n          likeCounts: this.tweet.likeCounts + 1,\r\n        };\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法將推文加入LIKE，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async deleteLike(tweetId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteLike({ tweetId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: false,\r\n          likeCounts: this.tweet.likeCounts - 1,\r\n        };\r\n\r\n        this.$emit(\"after-delete-like\", tweetId);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法將推文移除LIKE，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.cursor-pointer {\r\n  cursor: pointer;\r\n}\r\n.cursor-normal {\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetCard.vue?vue&type=template&id=9cbdb80e&\"\nimport script from \"./TweetCard.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetCard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VCard,VCol,VIcon,VImg,VRow})\n"],"sourceRoot":""}