{"version":3,"sources":["webpack:///./src/views/SignUp.vue?7c65","webpack:///src/views/SignUp.vue","webpack:///./src/views/SignUp.vue?ea34","webpack:///./src/views/SignUp.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","alertMsg","on","$event","_e","ref","model","value","callback","$$v","valid","expression","rules","required","accountRules","account","trim","nameRules","name","emailRules","email","showPassword","passwordRules","password","showConfirmPassword","confirmPasswordRules","type","indexOf","keyCode","preventDefault","signUp","apply","arguments","confirmPassword","btnLoading","staticRenderFns","components","data","methods","computed","component","VBtn","VCol","VContainer","VForm","VImg","VRow","VTextField"],"mappings":"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","file":"js/chunk-2d0d338e.9b54502e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\"},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"10\",\"sm\":\"8\",\"md\":\"6\",\"lg\":\"5\"}},[_c('v-img',{staticClass:\"ma-auto\",attrs:{\"src\":require(\"../assets/img/logo.svg\"),\"max-width\":\"35\"}}),_c('p',{staticClass:\"text--h6 font-weight-bold mt-4\"},[_vm._v(\"建立你的帳號\")]),(_vm.alertMsg)?_c('AlertErr',{attrs:{\"alertMsg\":_vm.alertMsg},on:{\"update:alertMsg\":function($event){_vm.alertMsg=$event},\"update:alert-msg\":function($event){_vm.alertMsg=$event}}}):_vm._e(),_c('v-form',{ref:\"form\",staticClass:\"my-4\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"rules\":[_vm.rules.required, _vm.rules.accountRules],\"maxlength\":\"50\",\"label\":\"帳號\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"account\"}}),_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"rules\":[_vm.rules.required, _vm.rules.nameRules],\"maxlength\":\"50\",\"label\":\"姓名\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}}),_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"rules\":[_vm.rules.required, _vm.rules.emailRules],\"label\":\"Email\",\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"email\"}}),_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"maxlength\":\"20\",\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required, _vm.rules.passwordRules],\"type\":_vm.showPassword ? 'text' : 'password',\"label\":\"密碼\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"password\"}}),_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"maxlength\":\"20\",\"append-icon\":_vm.showConfirmPassword ? 'mdi-eye' : 'mdi-eye-off',\"rules\":_vm.confirmPasswordRules,\"type\":_vm.showConfirmPassword ? 'text' : 'password',\"label\":\"確認密碼\"},on:{\"click:append\":function($event){_vm.showConfirmPassword = !_vm.showConfirmPassword},\"keypress\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.preventDefault();return _vm.signUp.apply(null, arguments)}},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"confirmPassword\"}}),_c('v-btn',{attrs:{\"rounded\":\"\",\"disabled\":!_vm.valid,\"loading\":_vm.btnLoading,\"color\":\"primary\"},on:{\"click\":_vm.signUp}},[_vm._v(\" 註冊 \")])],1),_c('router-link',{staticClass:\"text-subtitle-2 secondary--text font-weight-bold\",attrs:{\"to\":\"/\"}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"fill-height\">\r\n    <v-row justify=\"center\">\r\n      <v-col cols=\"10\" sm=\"8\" md=\"6\" lg=\"5\" class=\"text-center\">\r\n        <v-img src=\"../assets/img/logo.svg\" max-width=\"35\" class=\"ma-auto\"></v-img>\r\n        <p class=\"text--h6 font-weight-bold mt-4\">建立你的帳號</p>\r\n\r\n        <AlertErr :alertMsg.sync='alertMsg' v-if='alertMsg' />\r\n        <v-form class=\"my-4\" ref=\"form\" v-model=\"valid\" lazy-validation>\r\n          <v-text-field single-line solo v-model.trim=\"account\" :rules=\"[rules.required, rules.accountRules]\" maxlength=\"50\" label=\"帳號\"></v-text-field>\r\n          <v-text-field single-line solo v-model.trim=\"name\" :rules=\"[rules.required, rules.nameRules]\" maxlength=\"50\" label=\"姓名\"></v-text-field>\r\n          <v-text-field single-line solo v-model.trim=\"email\" :rules=\"[rules.required, rules.emailRules]\" label=\"Email\" required></v-text-field>\r\n          <v-text-field single-line solo v-model.trim=\"password\" maxlength=\"20\" :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\" :rules=\"[rules.required, rules.passwordRules]\" :type=\"showPassword ? 'text' : 'password'\" label=\"密碼\" @click:append=\"showPassword = !showPassword\"></v-text-field>\r\n          <v-text-field single-line solo v-model.trim=\"confirmPassword\" maxlength=\"20\" :append-icon=\"showConfirmPassword ? 'mdi-eye' : 'mdi-eye-off'\" :rules=\"confirmPasswordRules\" :type=\"showConfirmPassword ? 'text' : 'password'\" label=\"確認密碼\" @click:append=\"showConfirmPassword = !showConfirmPassword\" @keypress.13.prevent=\"signUp\"></v-text-field>\r\n\r\n          <v-btn rounded :disabled=\"!valid\" :loading=\"btnLoading\" color=\"primary\" @click=\"signUp\">\r\n            註冊\r\n          </v-btn>\r\n        </v-form>\r\n        <router-link class=\"text-subtitle-2 secondary--text font-weight-bold\" to=\"/\">取消</router-link>\r\n\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport AlertErr from \"@/components/AlertErr\";\r\nimport userAPI from \"../apis/users\";\r\nimport { Toast } from \"../utils/helpers\";\r\n\r\nexport default {\r\n  name: \"SignUp\",\r\n  components: { AlertErr },\r\n  data: () => ({\r\n    valid: true,\r\n    name: \"\",\r\n    account: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    showPassword: false,\r\n    showConfirmPassword: false,\r\n\r\n    alertMsg: \"\",\r\n\r\n    btnLoading: false,\r\n\r\n    // 表單驗證條件\r\n    rules: {\r\n      required: (value) => !!value || \"必填\",\r\n      accountRules: (value) =>\r\n        (value && value.length <= 50) || \"帳號不得超過50個字\",\r\n      nameRules: (value) =>\r\n        (value && value.length <= 50) || \"姓名不得超過50個字\",\r\n      emailRules: (value) =>\r\n        /.+@.+\\..+/.test(value) || \"Email格式無效，應為：xxx@xxx.xx\",\r\n      passwordRules: (value) =>\r\n        (value && value.length <= 20) || \"密碼不得超過20個字\",\r\n    },\r\n  }),\r\n  methods: {\r\n    async signUp() {\r\n      this.$refs.form.validate();\r\n      try {\r\n        this.btnLoading = true;\r\n        const userData = {\r\n          name: this.name,\r\n          account: this.account,\r\n          email: this.email,\r\n          password: this.password,\r\n          checkPassword: this.confirmPassword,\r\n        };\r\n        const { data } = await userAPI.signup({\r\n          userData,\r\n        });\r\n        // console.log(\"data: \", data);\r\n        this.btnLoading = false;\r\n        if (data.status !== \"success\") {\r\n          this.alertMsg = data.message;\r\n          throw new Error(data.message);\r\n        }\r\n        this.alertMsg = \"\";\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"註冊成功\",\r\n        });\r\n        setTimeout(() => this.$router.push(\"/signin\"), 1000);\r\n      } catch (err) {\r\n        this.btnLoading = false;\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    confirmPasswordRules() {\r\n      // 確認密碼驗證\r\n      const rules = [\r\n        (value) => !!value || \"必填\",\r\n        (value) => value.length <= 20 || \"密碼不得超過20個字\",\r\n        this.password === this.confirmPassword || \"兩次輸入的密碼不同\",\r\n      ];\r\n      return rules;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignUp.vue?vue&type=template&id=9eb498ae&\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js&\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VImg,VRow,VTextField})\n"],"sourceRoot":""}