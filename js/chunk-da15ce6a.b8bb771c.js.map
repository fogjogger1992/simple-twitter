{"version":3,"sources":["webpack:///./src/apis/tweets.js","webpack:///./src/views/Tweet.vue?203e","webpack:///./src/views/Tweet.vue?e7b7","webpack:///src/views/Tweet.vue","webpack:///./src/views/Tweet.vue?db6f","webpack:///./src/views/Tweet.vue?b8bd","webpack:///./src/views/Tweet.vue?defb"],"names":["getTweets","apiHelper","get","createTweet","tweetData","post","getTweet","tweetId","getTweetReplies","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","$event","$router","back","_v","name","params","id","tweet","User","_f","avatar","_s","account","description","createdAt","replyCounts","likeCounts","stopPropagation","preventDefault","replyTweet","apply","arguments","class","cursorStyle","isLiked","currentUser","deleteLike","addLike","_l","reply","key","comment","staticRenderFns","mixins","data","isLike","replies","created","fetchTweet","fetchReplies","beforeRouteUpdate","next","methods","setTweetReplyDialogOpen","setTweet","computed","component","VAvatar","VCard","VCol","VContainer","VIcon","VImg","VRow"],"mappings":"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","file":"js/chunk-da15ce6a.b8bb771c.js","sourcesContent":["import { apiHelper } from './../utils/helpers'\r\n\r\nexport default {\r\n  getTweets() {\r\n    return apiHelper.get('/tweets')\r\n  },\r\n  createTweet({ tweetData }) {\r\n    return apiHelper.post('/tweets', tweetData)\r\n  },\r\n  getTweet({ tweetId }) {\r\n    return apiHelper.get(`/tweets/${tweetId}`)\r\n  },\r\n  getTweetReplies({ tweetId }) {\r\n    return apiHelper.get(`/tweets/${tweetId}/replies`)\r\n  },\r\n}\r\n\r\n    ","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"ma-0 pa-0 d-flex flex-column main\"},[_c('v-card',{staticClass:\"pa-3 align-center\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-row',{staticClass:\"ma-0 pa-0 align-center\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"1\"}},[_c('v-icon',{on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"mdi-arrow-left\")])],1),_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"auto\"}},[_vm._v(\" 推文 \")])],1)],1),_c('v-card',{staticClass:\"pa-3 d-flex\",attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"12\"}},[_c('v-col',{staticClass:\"pa-0 flex-column\",attrs:{\"no-gutters\":\"\"}},[_c('v-row',{staticClass:\"py-2\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.tweet.User.id } }}},[_c('v-avatar',{staticClass:\"mt-1\"},[_c('v-img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.User.avatar),\"alt\":_vm.tweet.User.name}})],1)],1)],1),_c('v-col',{staticClass:\"pa-2\",attrs:{\"no-gutters\":\"\"}},[_c('p',{staticClass:\"subtitle-2 black--text font-weight-bold my-0 pa-0\"},[_vm._v(\" \"+_vm._s(_vm.tweet.User.name)+\" \")]),_c('p',{staticClass:\"subtitle-2 grey--text font-weight-normal my-0 pa-0\"},[_vm._v(\" @\"+_vm._s(_vm.tweet.User.account)+\" \")])])],1),_c('v-row',{staticClass:\"py-2\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"my-0 font-weight-regular\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")])])],1),_c('v-row',{staticClass:\"pt-0 py-2\",attrs:{\"no-gutters\":\"\"}},[_c('p',{staticClass:\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-1\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt))+\" \")])])],1)],1)],1),_c('v-card',{staticClass:\"mx-3 py-3 align-center grey--text\",staticStyle:{\"font-size\":\"16px\",\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\",\"border-top\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-row',{staticClass:\"pa-0 ma-0\"},[_c('v-col',{staticClass:\"pa-0 ma-0\",attrs:{\"cols\":\"2\"}},[_c('span',{staticClass:\"black--text\"},[_vm._v(_vm._s(_vm.tweet.replyCounts))]),_vm._v(\" 回覆\")]),_c('v-col',{staticClass:\"pa-0 ma-0\",attrs:{\"cols\":\"10\"}},[_c('span',{staticClass:\"black--text\"},[_vm._v(_vm._s(_vm.tweet.likeCounts))]),_vm._v(\" 喜歡次數\")])],1)],1),_c('v-card',{staticClass:\"pa-3 align-center grey--text\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-row',{staticClass:\"pa-0 ma-0\"},[_c('v-col',{staticClass:\"pa-0 ma-0\",attrs:{\"cols\":\"2\"}},[_c('v-icon',{staticStyle:{\"font-size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.replyTweet.apply(null, arguments)}}},[_vm._v(\"far fa-comment\")])],1),_c('v-col',{staticClass:\"pa-0 ma-0\",class:_vm.cursorStyle,attrs:{\"cols\":\"10\"}},[(!_vm.tweet.isLiked)?_c('v-icon',{staticClass:\"grey--text\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"disabled\":_vm.currentUser.id === _vm.tweet.User.id},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(_vm.tweet.id)}}},[_vm._v(\"far fa-heart\")]):_c('v-icon',{staticStyle:{\"font-size\":\"20px\"},attrs:{\"disabled\":_vm.currentUser.id === _vm.tweet.User.id,\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteLike(_vm.tweet.id)}}},[_vm._v(\"fas fa-heart\")])],1)],1)],1),_c('div',{staticClass:\"replylist\"},_vm._l((_vm.replies),function(reply){return _c('v-card',{key:reply.id,staticClass:\"pa-3\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-row',{staticClass:\"pa-0\",staticStyle:{\"flex-wrap\":\"nowrap\"},attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-1\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: reply.User.id } }}},[_c('v-avatar',{staticClass:\"mt-1\"},[_c('v-img',{attrs:{\"src\":_vm._f(\"emptyImage\")(reply.User.avatar),\"alt\":reply.User.name}})],1)],1)],1),_c('v-col',{staticClass:\"flex-shrink-1\",attrs:{\"cols\":\"11\"}},[_c('v-row',{staticClass:\"pa-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('p',{staticClass:\"subtitle-2 font-weight-bold mr-1 my-0 pa-0\"},[_vm._v(\" \"+_vm._s(reply.User.name)+\" \")]),_c('router-link',{staticClass:\"subtitle-2 grey--text font-weight-normal pa-0\",staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'user', params: { id: reply.User.id } }}},[_vm._v(\" @\"+_vm._s(reply.User.account)+\" \")]),_c('p',{staticClass:\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-1\"},[_vm._v(\" ‧ \"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt))+\" \")])],1),_c('v-row',{staticClass:\"font-weight-normal px-2 mb-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('p',{staticClass:\"body-2 font-weight-normal text-justify grey--text my-0\"},[_vm._v(\" 回覆 \"),_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'user', params: { id: _vm.tweet.User.id } }}},[_vm._v(\"@\"+_vm._s(_vm.tweet.User.name))])],1)]),_c('v-row',{staticClass:\"font-weight-normal px-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"12\"}},[_c('p',{staticClass:\"body-2 font-weight-normal text-justify my-0\"},[_vm._v(\" \"+_vm._s(reply.comment)+\" \")])])],1)],1)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"ma-0 pa-0 d-flex flex-column main\">\r\n    <!-- top nav -->\r\n    <v-card\r\n      tile\r\n      flat\r\n      class=\"pa-3 align-center\"\r\n      style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n    >\r\n      <v-row no-gutters class=\"ma-0 pa-0 align-center\">\r\n        <v-col cols=\"1\" class=\"ma-0 pa-0\">\r\n          <v-icon @click=\"$router.back()\">mdi-arrow-left</v-icon>\r\n        </v-col>\r\n        <v-col cols=\"auto\" class=\"ma-0 pa-0\"> 推文 </v-col>\r\n      </v-row>\r\n    </v-card>\r\n    <!-- tweet detail -->\r\n    <v-card flat tile class=\"pa-3 d-flex\">\r\n      <v-col cols=\"12\" class=\"ma-0 pa-0\">\r\n        <v-col no-gutters class=\"pa-0 flex-column\">\r\n          <v-row no-gutters class=\"py-2\">\r\n            <!-- avatar -->\r\n            <v-col cols=\"auto\">\r\n              <router-link\r\n                :to=\"{ name: 'user', params: { id: tweet.User.id } }\"\r\n              >\r\n                <v-avatar class=\"mt-1\">\r\n                  <v-img\r\n                    :src=\"tweet.User.avatar | emptyImage\"\r\n                    :alt=\"tweet.User.name\"\r\n                  ></v-img>\r\n                </v-avatar>\r\n              </router-link>\r\n            </v-col>\r\n            <!-- name and account -->\r\n            <v-col no-gutters class=\"pa-2\">\r\n              <p class=\"subtitle-2 black--text font-weight-bold my-0 pa-0\">\r\n                {{ tweet.User.name }}\r\n              </p>\r\n              <p class=\"subtitle-2 grey--text font-weight-normal my-0 pa-0\">\r\n                @{{ tweet.User.account }}\r\n              </p>\r\n            </v-col>\r\n          </v-row>\r\n          <!-- text -->\r\n          <v-row no-gutters class=\"py-2\">\r\n            <v-col cols=\"12\" class=\"ma-0 pa-0\">\r\n              <h2 class=\"my-0 font-weight-regular\">\r\n                {{ tweet.description }}\r\n              </h2>\r\n            </v-col>\r\n          </v-row>\r\n          <!-- created at -->\r\n          <v-row no-gutters class=\"pt-0 py-2\">\r\n            <p class=\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-1\">\r\n              {{ tweet.createdAt | fromNow }}\r\n            </p>\r\n          </v-row>\r\n        </v-col>\r\n      </v-col>\r\n    </v-card>\r\n    <!-- replies and likes counts -->\r\n    <v-card\r\n      tile\r\n      flat\r\n      class=\"mx-3 py-3 align-center grey--text\"\r\n      style=\"\r\n        font-size: 16px;\r\n        border-bottom: thin solid rgba(0, 0, 0, 0.12);\r\n        border-top: thin solid rgba(0, 0, 0, 0.12);\r\n      \"\r\n    >\r\n      <v-row class=\"pa-0 ma-0\">\r\n        <v-col cols=\"2\" class=\"pa-0 ma-0\"\r\n          ><span class=\"black--text\">{{ tweet.replyCounts }}</span> 回覆</v-col\r\n        >\r\n        <v-col cols=\"10\" class=\"pa-0 ma-0\"\r\n          ><span class=\"black--text\">{{ tweet.likeCounts }}</span>\r\n          喜歡次數</v-col\r\n        >\r\n      </v-row>\r\n    </v-card>\r\n    <!-- replies and likes icons -->\r\n    <v-card\r\n      tile\r\n      flat\r\n      class=\"pa-3 align-center grey--text\"\r\n      style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n    >\r\n      <v-row class=\"pa-0 ma-0\">\r\n        <v-col cols=\"2\" class=\"pa-0 ma-0\">\r\n          <v-icon @click.stop.prevent=\"replyTweet\" style=\"font-size: 20px\"\r\n            >far fa-comment</v-icon\r\n          >\r\n        </v-col>\r\n        <v-col cols=\"10\" class=\"pa-0 ma-0\" :class=\"cursorStyle\">\r\n          <v-icon\r\n            v-if=\"!tweet.isLiked\"\r\n            :disabled=\"currentUser.id === tweet.User.id\"\r\n            @click.stop.prevent=\"addLike(tweet.id)\"\r\n            class=\"grey--text\"\r\n            style=\"font-size: 20px\"\r\n            >far fa-heart</v-icon\r\n          >\r\n          <v-icon\r\n            v-else\r\n            :disabled=\"currentUser.id === tweet.User.id\"\r\n            @click.stop.prevent=\"deleteLike(tweet.id)\"\r\n            color=\"red\"\r\n            style=\"font-size: 20px\"\r\n            >fas fa-heart</v-icon\r\n          >\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n    <!-- replies -->\r\n    <div class=\"replylist\">\r\n      <v-card\r\n        v-for=\"reply in replies\"\r\n        :key=\"reply.id\"\r\n        flat\r\n        tile\r\n        class=\"pa-3\"\r\n        style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n      >\r\n        <v-row no-gutters class=\"pa-0\" style=\"flex-wrap: nowrap\">\r\n          <v-col class=\"flex-grow-1\">\r\n            <router-link :to=\"{ name: 'user', params: { id: reply.User.id } }\">\r\n              <v-avatar class=\"mt-1\">\r\n                <v-img\r\n                  :src=\"reply.User.avatar | emptyImage\"\r\n                  :alt=\"reply.User.name\"\r\n                ></v-img>\r\n              </v-avatar>\r\n            </router-link>\r\n          </v-col>\r\n          <v-col cols=\"11\" class=\"flex-shrink-1\">\r\n            <v-row no-gutters align=\"center\" class=\"pa-2\">\r\n              <p class=\"subtitle-2 font-weight-bold mr-1 my-0 pa-0\">\r\n                {{ reply.User.name }}\r\n              </p>\r\n              <router-link\r\n                :to=\"{ name: 'user', params: { id: reply.User.id } }\"\r\n                class=\"subtitle-2 grey--text font-weight-normal pa-0\"\r\n                style=\"text-decoration: none\"\r\n              >\r\n                @{{ reply.User.account }}\r\n              </router-link>\r\n              <p\r\n                class=\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-1\"\r\n              >\r\n                ‧ {{ reply.createdAt | fromNow }}\r\n              </p>\r\n            </v-row>\r\n            <v-row\r\n              no-gutters\r\n              align=\"center\"\r\n              class=\"font-weight-normal px-2 mb-2\"\r\n            >\r\n              <p class=\"body-2 font-weight-normal text-justify grey--text my-0\">\r\n                回覆\r\n                <router-link\r\n                  :to=\"{ name: 'user', params: { id: tweet.User.id } }\"\r\n                  style=\"text-decoration: none\"\r\n                  >@{{ tweet.User.name }}</router-link\r\n                >\r\n              </p>\r\n            </v-row>\r\n            <v-row no-gutters align=\"center\" class=\"font-weight-normal px-2\">\r\n              <v-col cols=\"12\" class=\"ma-0 pa-0\">\r\n                <p class=\"body-2 font-weight-normal text-justify my-0\">\r\n                  {{ reply.comment }}\r\n                </p>\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<style scoped>\r\n.main {\r\n  height: calc(100vh);\r\n}\r\n.replylist {\r\n  overflow-y: scroll;\r\n  -ms-overflow-style: none; /* IE and Edge */\r\n  scrollbar-width: none; /* Firefox */\r\n}\r\n/* Hide scrollbar for Chrome, Safari and Opera */\r\n.replylist::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\r\nimport tweetsAPI from \"./../apis/tweets\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Tweet\",\r\n  mixins: [fromNowFilter, emptyImageFilter],\r\n  data() {\r\n    return {\r\n      tweet: {\r\n        id: -1,\r\n        description: \"\",\r\n        replyCounts: 3,\r\n        likeCounts: 0,\r\n        createdAt: \"\",\r\n        isLike: false,\r\n        User: {\r\n          id: -1,\r\n          name: \"\",\r\n          account: \"\",\r\n          avatar: \"\",\r\n        },\r\n      },\r\n      replies: [],\r\n    };\r\n  },\r\n  created() {\r\n    const { id } = this.$route.params;\r\n    this.fetchTweet(id);\r\n    this.fetchReplies(id);\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { id } = to.params;\r\n    this.fetchTweet(id);\r\n    this.fetchReplies(id);\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchTweet(tweetId) {\r\n      try {\r\n        const { data } = await tweetsAPI.getTweet({ tweetId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        const {\r\n          id,\r\n          description,\r\n          replyCounts,\r\n          likeCounts,\r\n          createdAt,\r\n          isLiked,\r\n          User,\r\n        } = data;\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          id,\r\n          description,\r\n          replyCounts,\r\n          likeCounts,\r\n          createdAt,\r\n          isLiked,\r\n          User,\r\n        };\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得推文資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async fetchReplies(tweetId) {\r\n      try {\r\n        const { data } = await tweetsAPI.getTweetReplies({ tweetId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.replies = data;\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得推文資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async addLike(tweetId) {\r\n      try {\r\n        // 只能按別人的\r\n        if (this.tweet.User.id === this.currentUser.id) {\r\n          Toast.fire({\r\n            icon: \"error\",\r\n            title: \"無法將自己的推文加入LIKE\",\r\n          });\r\n          this.isLoading = false;\r\n          return;\r\n        }\r\n        const { data } = await usersAPI.addLike({ tweetId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: true,\r\n          likeCounts: this.tweet.likeCounts + 1,\r\n        };\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法將推文加入LIKE，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async deleteLike(tweetId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteLike({ tweetId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: false,\r\n          likeCounts: this.tweet.likeCounts - 1,\r\n        };\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法將推文移除LIKE，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    // TODO: reply\r\n    replyTweet() {\r\n      // console.log(\"replyTweet\");\r\n      // console.log(\"Tweet: \", this.tweet);\r\n      this.setTweetReplyDialogOpen(true);\r\n      this.setTweet(this.tweet);\r\n    },\r\n    ...mapMutations({\r\n      setTweet: \"tweets/setTweet\",\r\n      setTweetReplyDialogOpen: \"tweets/setTweetReplyDialogOpen\",\r\n    }),\r\n  },\r\n  computed: {\r\n    cursorStyle() {\r\n      return this.currentUser.id === this.tweet.User.id\r\n        ? \"cursor-normal\"\r\n        : \"cursor-pointer\";\r\n    },\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.cursor-pointer {\r\n  cursor: pointer;\r\n}\r\n.cursor-normal {\r\n  cursor: not-allowed;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tweet.vue?vue&type=template&id=68685a80&scoped=true&\"\nimport script from \"./Tweet.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tweet.vue?vue&type=style&index=0&id=68685a80&scoped=true&lang=css&\"\nimport style1 from \"./Tweet.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68685a80\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VCard,VCol,VContainer,VIcon,VImg,VRow})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=style&index=0&id=68685a80&scoped=true&lang=css&\""],"sourceRoot":""}