{"version":3,"sources":["webpack:///./src/components/UserCard.vue?64b1","webpack:///src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?7643","webpack:///./src/components/UserCard.vue","webpack:///./src/views/UserFollower.vue?92a8","webpack:///src/views/UserFollower.vue","webpack:///./src/views/UserFollower.vue?5b6f","webpack:///./src/views/UserFollower.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","name","params","id","user","_f","avatar","_v","_s","account","isFollowed","isLoading","on","$event","stopPropagation","preventDefault","deleteFollowing","addFollowing","introduction","staticRenderFns","props","currentUser","type","Object","required","initialUser","initialIsFollowed","Boolean","mixins","data","watch","handler","deep","immediate","methods","component","VAvatar","VBtn","VCard","VCol","VImg","VRow","VSpacer","model","value","tabs","callback","$$v","$set","expression","_l","tab","key","link","follower","Follower","components","UserCard","active_tab","followers","computed","topFollowshipUpdate","fetchFollowers","created","beforeRouteUpdate","next","VContainer","VTab","VTabs"],"mappings":"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","file":"js/chunk-0b7282f8.1a3e6854.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-3\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-row',{staticClass:\"pa-0\",staticStyle:{\"flex-wrap\":\"nowrap\"},attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-1\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.user.id } }}},[_c('v-avatar',{staticClass:\"mt-1\"},[_c('v-img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.avatar),\"alt\":_vm.user.name}})],1)],1)],1),_c('v-col',{staticClass:\"flex-shrink-1\",attrs:{\"cols\":\"11\"}},[_c('v-row',{staticClass:\"pa-0\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"d-flex flex-column pa-2 ma-0\",attrs:{\"no-gutters\":\"\",\"cols\":\"9\"}},[_c('p',{staticClass:\"subtitle-2 font-weight-bold ma-0 pa-0\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"subtitle-2 grey--text font-weight-normal ma-0 pa-0\",staticStyle:{\"text-decoration\":\"none\"}},[_vm._v(\" @\"+_vm._s(_vm.user.account)+\" \")])]),_c('v-spacer'),_c('v-col',{staticClass:\"d-flex ma-0 pa-2\",attrs:{\"no-gutters\":\"\",\"cols\":\"auto\"}},[(!_vm.isFollowed)?_c('v-btn',{attrs:{\"loading\":_vm.isLoading,\"rounded\":\"\",\"outlined\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(_vm.user.id)}}},[_vm._v(\" 跟隨 \")]):_c('v-btn',{attrs:{\"loading\":_vm.isLoading,\"rounded\":\"\",\"small\":\"\",\"elevation\":\"0\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(_vm.user.id)}}},[_vm._v(\" 正在跟隨 \")])],1)],1),_c('v-row',{staticClass:\"d-flex flex-wrap font-weight-normal px-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"body-2 font-weight-normal text-justify my-0\"},[_vm._v(\" \"+_vm._s(_vm.user.introduction)+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card\r\n    flat\r\n    tile\r\n    class=\"pa-3\"\r\n    style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n  >\r\n    <v-row no-gutters class=\"pa-0\" style=\"flex-wrap: nowrap\">\r\n      <!-- avatar -->\r\n      <v-col class=\"flex-grow-1\">\r\n        <router-link :to=\"{ name: 'user', params: { id: user.id } }\">\r\n          <v-avatar class=\"mt-1\">\r\n            <v-img :src=\"user.avatar | emptyImage\" :alt=\"user.name\"></v-img>\r\n          </v-avatar>\r\n        </router-link>\r\n      </v-col>\r\n      <!-- name and account -->\r\n      <v-col cols=\"11\" class=\"flex-shrink-1\">\r\n        <v-row no-gutters align=\"center\" class=\"pa-0\">\r\n          <v-col no-gutters cols=\"9\" class=\"d-flex flex-column pa-2 ma-0\">\r\n            <p class=\"subtitle-2 font-weight-bold ma-0 pa-0\">{{ user.name }}</p>\r\n            <p\r\n              class=\"subtitle-2 grey--text font-weight-normal ma-0 pa-0\"\r\n              style=\"text-decoration: none\"\r\n            >\r\n              @{{ user.account }}\r\n            </p>\r\n          </v-col>\r\n          <v-spacer></v-spacer>\r\n          <!-- btn -->\r\n          <v-col no-gutters cols=\"auto\" class=\"d-flex ma-0 pa-2\">\r\n            <v-btn\r\n              v-if=\"!isFollowed\"\r\n              :loading=\"isLoading\"\r\n              @click.stop.prevent=\"addFollowing(user.id)\"\r\n              rounded\r\n              outlined\r\n              small\r\n              color=\"primary\"\r\n            >\r\n              跟隨\r\n            </v-btn>\r\n            <v-btn\r\n              v-else\r\n              :loading=\"isLoading\"\r\n              @click.stop.prevent=\"deleteFollowing(user.id)\"\r\n              rounded\r\n              small\r\n              elevation=\"0\"\r\n              color=\"primary\"\r\n            >\r\n              正在跟隨\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row\r\n          no-gutters\r\n          align=\"center\"\r\n          class=\"d-flex flex-wrap font-weight-normal px-2\"\r\n        >\r\n          <v-col class=\"body-2 font-weight-normal text-justify my-0\">\r\n            {{ user.introduction }}\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n    </v-row>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"userCard\",\r\n  props: {\r\n    currentUser: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    initialUser: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    initialIsFollowed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  mixins: [emptyImageFilter],\r\n  data() {\r\n    return {\r\n      user: {\r\n        ...this.initialUser,\r\n      },\r\n      isFollowed: this.initialIsFollowed,\r\n      isLoading: false,\r\n    };\r\n  },\r\n  watch: {\r\n    initialUser: {\r\n      handler: function (newValue) {\r\n        this.user = {\r\n          ...this.user,\r\n          ...newValue,\r\n        };\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n    initialIsFollowed(isFollowed) {\r\n      this.isFollowed = isFollowed;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setfollowshipUpdate: \"setfollowshipUpdate\",\r\n    }),\r\n    async addFollowing(userId) {\r\n      try {\r\n        this.isLoading = true;\r\n        this.setfollowshipUpdate(null, { root: true });\r\n        // 不能跟隨自己\r\n        if (userId === this.currentUser.id) {\r\n          Toast.fire({\r\n            icon: \"error\",\r\n            title: \"無法跟隨自己\",\r\n          });\r\n          this.isLoading = false;\r\n          this.setfollowshipUpdate(null, { root: true });\r\n          return;\r\n        }\r\n\r\n        const followingId = {\r\n          id: userId,\r\n        };\r\n        const { data } = await usersAPI.addFollowing({ followingId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.isFollowed = true;\r\n        this.isLoading = false;\r\n        this.setfollowshipUpdate(null, { root: true });\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"成功加入跟隨\",\r\n        });\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        this.setfollowshipUpdate(null, { root: true });\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法加入跟隨，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async deleteFollowing(followingId) {\r\n      try {\r\n        this.isLoading = true;\r\n        this.setfollowshipUpdate(null, { root: true });\r\n        const { data } = await usersAPI.deleteFollowing({ followingId });\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.$emit(\"after-delete-following\", followingId);\r\n        this.isFollowed = false;\r\n        this.isLoading = false;\r\n        this.setfollowshipUpdate(null, { root: true });\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"成功取消跟隨\",\r\n        });\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        this.setfollowshipUpdate(null, { root: true });\r\n        console.error(error.message);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取消跟隨，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCard.vue?vue&type=template&id=3f03ba3e&\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCol,VImg,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"ma-0 pa-0\"},[_c('v-tabs',{staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"background-color\":\"transparent\",\"color\":\"primary\"},model:{value:(_vm.tabs.active_tab),callback:function ($$v) {_vm.$set(_vm.tabs, \"active_tab\", $$v)},expression:\"tabs.active_tab\"}},_vm._l((_vm.tabs.tabs),function(tab){return _c('v-tab',{key:tab.id,staticClass:\"font-weight-bold\",attrs:{\"to\":tab.link}},[_vm._v(\" \"+_vm._s(tab.name)+\" \")])}),1),_vm._l((_vm.followers),function(follower){return _c('UserCard',{key:follower.id,attrs:{\"initialUser\":follower.Follower,\"initialIsFollowed\":follower.isFollowed,\"currentUser\":_vm.currentUser}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"ma-0 pa-0\">\r\n    <!-- tabs -->\r\n    <v-tabs\r\n      v-model=\"tabs.active_tab\"\r\n      style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n      background-color=\"transparent\"\r\n      color=\"primary\"\r\n    >\r\n      <v-tab\r\n        v-for=\"tab of tabs.tabs\"\r\n        :key=\"tab.id\"\r\n        :to=\"tab.link\"\r\n        class=\"font-weight-bold\"\r\n      >\r\n        {{ tab.name }}\r\n      </v-tab>\r\n    </v-tabs>\r\n    <!-- tweets list -->\r\n    <UserCard\r\n      v-for=\"follower in followers\"\r\n      :key=\"follower.id\"\r\n      :initialUser=\"follower.Follower\"\r\n      :initialIsFollowed=\"follower.isFollowed\"\r\n      :currentUser=\"currentUser\"\r\n    />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport UserCard from \"./../components/UserCard.vue\";\r\nimport { mapState } from \"vuex\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"./../utils/helpers\";\r\n\r\nexport default {\r\n  name: \"UserFollower\",\r\n  components: {\r\n    UserCard,\r\n  },\r\n  data() {\r\n    return {\r\n      tabs: {\r\n        active_tab: 0,\r\n        tabs: [\r\n          {\r\n            index: 0,\r\n            name: \"跟隨者\",\r\n            link: \"follower\",\r\n          },\r\n          {\r\n            index: 1,\r\n            name: \"正在跟隨\",\r\n            link: \"following\",\r\n          },\r\n        ],\r\n      },\r\n      followers: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\", \"topFollowshipUpdate\"]),\r\n  },\r\n  watch: {\r\n    topFollowshipUpdate: {\r\n      handler: function () {\r\n        const { id } = this.$route.params;\r\n        this.fetchFollowers(id);\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n  },\r\n  created() {\r\n    const { id } = this.$route.params;\r\n    this.fetchFollowers(id);\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { id } = to.params;\r\n    this.fetchFollowers(id);\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchFollowers(userId) {\r\n      try {\r\n        const { data } = await usersAPI.getUserFollowers({ userId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.followers = data;\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollower.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollower.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollower.vue?vue&type=template&id=36d1df14&\"\nimport script from \"./UserFollower.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollower.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VContainer,VTab,VTabs})\n"],"sourceRoot":""}