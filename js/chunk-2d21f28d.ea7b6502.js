(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f28d"],{d946:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"fill-height"},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{staticClass:"text-center",attrs:{cols:"10",sm:"8",md:"6",lg:"5"}},[s("v-img",{staticClass:"ma-auto",attrs:{src:a("1ae4"),"max-width":"35"}}),s("p",{staticClass:"text--h6 font-weight-bold mt-4"},[e._v("後台登入")]),e.alertMsg?s("AlertErr",{attrs:{alertMsg:e.alertMsg},on:{"update:alertMsg":function(t){e.alertMsg=t},"update:alert-msg":function(t){e.alertMsg=t}}}):e._e(),s("v-form",{ref:"form",staticClass:"mt-4 mb-5",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"single-line":"",solo:"",rules:[e.rules.required,e.rules.emailRules],maxlength:"50",label:"帳號"},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),s("v-text-field",{attrs:{"single-line":"",solo:"",maxlength:"20","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:[e.rules.required],type:e.showPassword?"text":"password",label:"密碼"},on:{"click:append":function(t){e.showPassword=!e.showPassword},keypress:function(t){return t.type.indexOf("key")||13===t.keyCode?(t.preventDefault(),e.signIn.apply(null,arguments)):null}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}}),s("v-btn",{attrs:{rounded:"",disabled:!e.valid,color:"primary",loading:e.btnLoading},on:{click:e.signIn}},[e._v(" 登入 ")])],1),s("div",{staticClass:"text-right"},[s("router-link",{staticClass:"text-subtitle-2 secondary--text font-weight-bold",attrs:{to:"/signin"}},[e._v("前台登入")])],1)],1)],1)],1)},n=[],r=a("1da1"),l=(a("96cf"),a("7696")),i=a("0ef5"),o={name:"AdminSignIn",components:{AlertErr:i["a"]},data:function(){return{valid:!0,email:"",password:"",showPassword:!1,alertMsg:"",btnLoading:!1,rules:{required:function(e){return!!e||"必填"},emailRules:function(e){return/.+@.+\..+/.test(e)||"請使用Email登入，格式為：xxx@xxx.xx"}}}},methods:{signIn:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.form.validate(),e.btnLoading=!0,t.prev=2,t.next=5,l["a"].adminSignIn({email:e.email,password:e.password});case 5:if(a=t.sent,e.btnLoading=!1,s=a.data,"error"!==s.status){t.next=11;break}throw e.alertMsg=s.message,new Error(s.message);case 11:e.alertMsg="",localStorage.setItem("token",s.token),e.$router.push("/admin/main"),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](2),e.btnLoading=!1,console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,16]])})))()}},computed:{}},d=o,c=a("2877"),u=a("6544"),m=a.n(u),g=a("8336"),p=a("62ad"),f=a("a523"),w=a("4bd4"),v=a("adda"),x=a("0fd9"),h=a("8654"),b=Object(c["a"])(d,s,n,!1,null,null,null);t["default"]=b.exports;m()(b,{VBtn:g["a"],VCol:p["a"],VContainer:f["a"],VForm:w["a"],VImg:v["a"],VRow:x["a"],VTextField:h["a"]})}}]);
//# sourceMappingURL=chunk-2d21f28d.ea7b6502.js.map