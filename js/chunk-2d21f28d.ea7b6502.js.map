{"version":3,"sources":["webpack:///./src/views/AdminSignIn.vue?4874","webpack:///src/views/AdminSignIn.vue","webpack:///./src/views/AdminSignIn.vue?4a45","webpack:///./src/views/AdminSignIn.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","alertMsg","on","$event","_e","ref","model","value","callback","$$v","valid","expression","rules","required","emailRules","email","trim","showPassword","type","indexOf","keyCode","preventDefault","signIn","apply","arguments","password","btnLoading","staticRenderFns","name","components","data","methods","computed","component","VBtn","VCol","VContainer","VForm","VImg","VRow","VTextField"],"mappings":"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","file":"js/chunk-2d21f28d.ea7b6502.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\"},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"10\",\"sm\":\"8\",\"md\":\"6\",\"lg\":\"5\"}},[_c('v-img',{staticClass:\"ma-auto\",attrs:{\"src\":require(\"../assets/img/logo.svg\"),\"max-width\":\"35\"}}),_c('p',{staticClass:\"text--h6 font-weight-bold mt-4\"},[_vm._v(\"後台登入\")]),(_vm.alertMsg)?_c('AlertErr',{attrs:{\"alertMsg\":_vm.alertMsg},on:{\"update:alertMsg\":function($event){_vm.alertMsg=$event},\"update:alert-msg\":function($event){_vm.alertMsg=$event}}}):_vm._e(),_c('v-form',{ref:\"form\",staticClass:\"mt-4 mb-5\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"rules\":[_vm.rules.required, _vm.rules.emailRules],\"maxlength\":\"50\",\"label\":\"帳號\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"email\"}}),_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"maxlength\":\"20\",\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required],\"type\":_vm.showPassword ? 'text' : 'password',\"label\":\"密碼\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword},\"keypress\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.preventDefault();return _vm.signIn.apply(null, arguments)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"password\"}}),_c('v-btn',{attrs:{\"rounded\":\"\",\"disabled\":!_vm.valid,\"color\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.signIn}},[_vm._v(\" 登入 \")])],1),_c('div',{staticClass:\"text-right\"},[_c('router-link',{staticClass:\"text-subtitle-2 secondary--text font-weight-bold\",attrs:{\"to\":\"/signin\"}},[_vm._v(\"前台登入\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"fill-height\">\r\n    <v-row justify=\"center\">\r\n      <v-col cols=\"10\" sm=\"8\" md=\"6\" lg=\"5\" class=\"text-center\">\r\n        <v-img src=\"../assets/img/logo.svg\" max-width=\"35\" class=\"ma-auto\"></v-img>\r\n        <p class=\"text--h6 font-weight-bold mt-4\">後台登入</p>\r\n\r\n        <AlertErr :alertMsg.sync='alertMsg' v-if='alertMsg' />\r\n        <v-form class=\"mt-4 mb-5\" ref=\"form\" v-model=\"valid\" lazy-validation>\r\n          <v-text-field single-line solo v-model.trim=\"email\" :rules=\"[rules.required, rules.emailRules]\" maxlength=\"50\" label=\"帳號\"></v-text-field>\r\n          <v-text-field single-line solo v-model.trim=\"password\" maxlength=\"20\" :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\" :rules=\"[rules.required]\" :type=\"showPassword ? 'text' : 'password'\" label=\"密碼\" @click:append=\"showPassword = !showPassword\" \r\n          @keypress.13.prevent=\"signIn\"></v-text-field>\r\n          <v-btn rounded :disabled=\"!valid\" color=\"primary\" :loading=\"btnLoading\" @click=\"signIn\">\r\n            登入\r\n          </v-btn>\r\n        </v-form>\r\n\r\n        <div class=\"text-right\">\r\n          <router-link class=\"text-subtitle-2 secondary--text font-weight-bold\" to=\"/signin\">前台登入</router-link>\r\n        </div>\r\n\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport authorizationAPI from \"../apis/authorization\";\r\nimport AlertErr from \"@/components/AlertErr\";\r\n\r\nexport default {\r\n  name: \"AdminSignIn\",\r\n  components: { AlertErr },\r\n  data: () => ({\r\n    valid: true,\r\n    email: \"\",\r\n    password: \"\",\r\n    showPassword: false,\r\n\r\n    alertMsg: \"\",\r\n\r\n    btnLoading: false,\r\n\r\n    // 表單驗證條件\r\n    rules: {\r\n      required: (value) => !!value || \"必填\",\r\n      emailRules: (value) =>\r\n        /.+@.+\\..+/.test(value) || \"請使用Email登入，格式為：xxx@xxx.xx\",\r\n      // accountRules: (value) =>\r\n      //   (value && value.length <= 50) || \"帳號不得超過50個字\",\r\n    },\r\n  }),\r\n  methods: {\r\n    async signIn() {\r\n      // 表單驗證\r\n      this.$refs.form.validate();\r\n      // 讓按鈕不能重複按\r\n      this.btnLoading = true;\r\n\r\n      try {\r\n        const response = await authorizationAPI.adminSignIn({\r\n          email: this.email,\r\n          password: this.password,\r\n        });\r\n        this.btnLoading = false;\r\n\r\n        // 取得 API 請求後的資料\r\n        const { data } = response;\r\n        // 登入失敗\r\n        if (data.status === \"error\") {\r\n          this.alertMsg = data.message;\r\n          throw new Error(data.message)\r\n        }\r\n        // 登入成功\r\n        this.alertMsg = \"\";\r\n        localStorage.setItem(\"token\", data.token);\r\n        this.$router.push(\"/admin/main\");\r\n\r\n      } catch (err) {\r\n        this.btnLoading = false;\r\n        console.log(err);\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSignIn.vue?vue&type=template&id=41331537&\"\nimport script from \"./AdminSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSignIn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VImg,VRow,VTextField})\n"],"sourceRoot":""}