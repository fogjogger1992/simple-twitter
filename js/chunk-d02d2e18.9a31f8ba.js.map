{"version":3,"sources":["webpack:///./src/views/Tweets.vue?fdc6","webpack:///./src/components/TweetCard.vue?c315","webpack:///./src/apis/tweets.js","webpack:///./src/views/Tweets.vue?55b2","webpack:///./src/components/NewTweetCard.vue?a3a4","webpack:///src/components/NewTweetCard.vue","webpack:///./src/components/NewTweetCard.vue?062a","webpack:///./src/components/NewTweetCard.vue","webpack:///src/views/Tweets.vue","webpack:///./src/views/Tweets.vue?b9b0","webpack:///../../../src/components/VSystemBar/VSystemBar.ts","webpack:///./src/views/Tweets.vue?258b","webpack:///./src/components/TweetCard.vue?ba46","webpack:///src/components/TweetCard.vue","webpack:///./src/components/TweetCard.vue?730c","webpack:///./src/components/TweetCard.vue?c209","webpack:///../../../src/components/VTextarea/VTextarea.ts"],"names":["getTweets","apiHelper","get","createTweet","tweetData","post","getTweet","tweetId","getTweetReplies","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","currentUser","on","afterCreateTweet","_l","tweet","key","id","User","staticRenderFns","_f","avatar","name","ref","$event","stopPropagation","preventDefault","handleSubmit","apply","arguments","model","value","callback","$$v","valid","expression","rules","required","tweetRules","spaceRules","isLoading","props","type","Object","mixins","data","methods","component","VAvatar","VBtn","VCard","VCardActions","VCol","VContainer","VForm","VImg","VRow","VSpacer","VTextarea","components","NewTweetCard","TweetCard","tweets","created","fetchTweets","computed","height","Number","lightsOut","window","Boolean","classes","app","themeClasses","computedHeight","isNaN","parseInt","styles","updateApplication","$el","render","class","style","$listeners","h","setBackgroundColor","VSystemBar","params","_s","account","createdAt","description","replyTweet","replyCounts","cursorStyle","isLiked","deleteLike","addLike","likeCounts","initialTweet","setTweet","setTweetReplyDialogOpen","VIcon","baseMixins","autoGrow","noResize","rowHeight","default","validator","v","parseFloat","rows","noResizeHandle","watch","lazyValue","$nextTick","mounted","setTimeout","calculateInputHeight","input","$refs","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e"],"mappings":"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","file":"js/chunk-d02d2e18.9a31f8ba.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=style&index=0&id=6d0751fe&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=style&index=0&lang=css&\"","import { apiHelper } from './../utils/helpers'\r\n\r\nexport default {\r\n  getTweets() {\r\n    return apiHelper.get('/tweets')\r\n  },\r\n  createTweet({ tweetData }) {\r\n    return apiHelper.post('/tweets', tweetData)\r\n  },\r\n  getTweet({ tweetId }) {\r\n    return apiHelper.get(`/tweets/${tweetId}`)\r\n  },\r\n  getTweetReplies({ tweetId }) {\r\n    return apiHelper.get(`/tweets/${tweetId}/replies`)\r\n  },\r\n}\r\n\r\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"ma-0 pa-0 d-flex flex-column main\"},[_c('v-card',{staticClass:\"pa-3 align-center\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"tile\":\"\",\"flat\":\"\"}},[_vm._v(\"首頁\")]),_c('NewTweetCard',{attrs:{\"current-user\":_vm.currentUser},on:{\"after-create-tweet\":_vm.afterCreateTweet}}),_c('v-system-bar',{staticStyle:{\"height\":\"50px\"}}),_c('div',{staticClass:\"tweetslist\"},_vm._l((_vm.tweets),function(tweet){return _c('TweetCard',{key:tweet.id,attrs:{\"initial-tweet\":tweet,\"user\":tweet.User}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-3\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-row',{staticClass:\"pa-0\",staticStyle:{\"flex-wrap\":\"nowrap\"},attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-1\"},[_c('v-avatar',{staticClass:\"mt-1\"},[_c('v-img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":_vm.currentUser.name}})],1)],1),_c('v-col',{staticClass:\"flex-shrink-1\",attrs:{\"cols\":\"11\"}},[_c('v-container',{staticClass:\"pa-0 ma-0\",attrs:{\"fluid\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-textarea',{staticClass:\"pa-0 ma-0\",attrs:{\"flat\":\"\",\"solo\":\"\",\"rows\":\"2\",\"no-resize\":\"\",\"auto-grow\":\"\",\"counter\":\"140\",\"maxlength\":\"140\",\"label\":\"有什麼新鮮事？\",\"rules\":[_vm.rules.required, _vm.rules.tweetRules, _vm.rules.spaceRules],\"value\":_vm.value,\"required\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('v-card-actions',{staticClass:\"pa-0 ma-0\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"loading\":_vm.isLoading,\"disabled\":!_vm.valid,\"type\":\"submit\",\"rounded\":\"\",\"color\":\"primary\"}},[_vm._v(\" 推文 \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card\r\n    tile\r\n    flat\r\n    class=\"pa-3\"\r\n    style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n  >\r\n    <v-row no-gutters class=\"pa-0\" style=\"flex-wrap: nowrap\">\r\n      <v-col class=\"flex-grow-1\">\r\n        <v-avatar class=\"mt-1\">\r\n          <v-img\r\n            :src=\"currentUser.avatar | emptyImage\"\r\n            :alt=\"currentUser.name\"\r\n          ></v-img>\r\n        </v-avatar>\r\n      </v-col>\r\n      <v-col cols=\"11\" class=\"flex-shrink-1\">\r\n        <v-container fluid class=\"pa-0 ma-0\">\r\n          <v-form\r\n            ref=\"form\"\r\n            v-model=\"valid\"\r\n            lazy-validation\r\n            @submit.stop.prevent=\"handleSubmit\"\r\n          >\r\n            <v-textarea\r\n              v-model=\"value\"\r\n              class=\"pa-0 ma-0\"\r\n              flat\r\n              solo\r\n              rows=\"2\"\r\n              no-resize\r\n              auto-grow\r\n              counter=\"140\"\r\n              maxlength=\"140\"\r\n              label=\"有什麼新鮮事？\"\r\n              :rules=\"[rules.required, rules.tweetRules, rules.spaceRules]\"\r\n              :value=\"value\"\r\n              required\r\n            ></v-textarea>\r\n            <v-card-actions class=\"pa-0 ma-0\">\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                :loading=\"isLoading\"\r\n                :disabled=\"!valid\"\r\n                type=\"submit\"\r\n                rounded\r\n                color=\"primary\"\r\n              >\r\n                推文\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-form>\r\n        </v-container>\r\n      </v-col>\r\n    </v-row>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport tweetsAPI from \"./../apis/tweets\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { emptyImageFilter } from \"../utils/mixins\";\r\n\r\nexport default {\r\n  name: \"NewTweetCard\",\r\n  props: {\r\n    currentUser: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  mixins: [emptyImageFilter],\r\n  data() {\r\n    return {\r\n      rules: {\r\n        required: (value) => !!value || \"填寫您的推文\",\r\n        tweetRules: (value) =>\r\n          (value && value.length <= 140) || \"推文字數限制(140)\",\r\n        spaceRules: (v) => /[^\\s]/.test(v) || \"填寫您的推文，輸入空格外的文字\",\r\n      },\r\n      value: \"\",\r\n      isLoading: false,\r\n      valid: true,\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSubmit() {\r\n      try {\r\n        // empty input\r\n        this.$refs.form.validate();\r\n        if (!this.value) {\r\n          Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"請寫下您的推文\",\r\n          });\r\n          return;\r\n          // only space\r\n        } else if (!this.value.trim()) {\r\n          Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"填寫您的推文，輸入空格外的文字\",\r\n          });\r\n          return;\r\n          // >140\r\n        } else if (this.value.length > 140) {\r\n          Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"推文字數限制(140)\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        this.isLoading = true;\r\n\r\n        const tweetData = {\r\n          userId: this.currentUser.id,\r\n          description: this.value,\r\n        };\r\n\r\n        const { data } = await tweetsAPI.createTweet({\r\n          tweetData,\r\n        });\r\n        // 避免表單送出後還繼續做表單驗證，將表單恢復為預設狀態（尚未驗證的時候、表單內容也會清空）\r\n        this.$refs.form.reset();\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        // 伺服器新增推文成功後...\r\n        this.$emit(\"after-create-tweet\", {\r\n          tweetData,\r\n        });\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"推文成功\",\r\n        });\r\n\r\n        // 清空已送出的推文\r\n        // this.value = \"\";\r\n\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法新增推文，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script> ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewTweetCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewTweetCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewTweetCard.vue?vue&type=template&id=2786b54d&\"\nimport script from \"./NewTweetCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NewTweetCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardActions,VCol,VContainer,VForm,VImg,VRow,VSpacer,VTextarea})\n","<template>\r\n  <v-container class=\"ma-0 pa-0 d-flex flex-column main\">\r\n    <!-- top nav -->\r\n    <v-card\r\n      tile\r\n      flat\r\n      class=\"pa-3 align-center\"\r\n      style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n      >首頁</v-card\r\n    >\r\n    <!-- add tweet -->\r\n    <NewTweetCard\r\n      :current-user=\"currentUser\"\r\n      @after-create-tweet=\"afterCreateTweet\"\r\n    />\r\n    <v-system-bar style=\"height: 50px\"></v-system-bar>\r\n    <!-- tweets list -->\r\n    <div class=\"tweetslist\">\r\n      <TweetCard\r\n        v-for=\"tweet in tweets\"\r\n        :key=\"tweet.id\"\r\n        :initial-tweet=\"tweet\"\r\n        :user=\"tweet.User\"\r\n      />\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<style scoped>\r\n.main {\r\n  height: calc(100vh);\r\n}\r\n.tweetslist {\r\n  overflow-y: scroll;\r\n  -ms-overflow-style: none; /* IE and Edge */\r\n  scrollbar-width: none; /* Firefox */\r\n}\r\n/* Hide scrollbar for Chrome, Safari and Opera */\r\n.tweetslist::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport NewTweetCard from \"../components/NewTweetCard.vue\";\r\nimport TweetCard from \"../components/TweetCard.vue\";\r\nimport tweetsAPI from \"../apis/tweets\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Tweets\",\r\n  components: {\r\n    NewTweetCard,\r\n    TweetCard,\r\n  },\r\n  data() {\r\n    return {\r\n      tweets: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchTweets();\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  methods: {\r\n    async fetchTweets() {\r\n      try {\r\n        this.setShowOverlayLoading(null, { root: true });\r\n        const response = await tweetsAPI.getTweets();\r\n        this.tweets = response.data;\r\n      } catch (error) {\r\n        \"error\", error;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得推文，請稍後再試\",\r\n        });\r\n      }\r\n     this.setShowOverlayLoading(null, { root: true });\r\n    },\r\n    afterCreateTweet() {\r\n      this.fetchTweets();\r\n    },\r\n    ...mapMutations({\r\n      setShowOverlayLoading: \"setShowOverlayLoading\",\r\n    }),\r\n  },\r\n};\r\n</script> ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"","// Styles\nimport './VSystemBar.sass'\n\n// Mixins\nimport Applicationable from '../../mixins/applicationable'\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue/types'\n\nexport default mixins(\n  Applicationable('bar', [\n    'height',\n    'window',\n  ]),\n  Colorable,\n  Themeable\n/* @vue/component */\n).extend({\n  name: 'v-system-bar',\n\n  props: {\n    height: [Number, String],\n    lightsOut: Boolean,\n    window: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-system-bar--lights-out': this.lightsOut,\n        'v-system-bar--absolute': this.absolute,\n        'v-system-bar--fixed': !this.absolute && (this.app || this.fixed),\n        'v-system-bar--window': this.window,\n        ...this.themeClasses,\n      }\n    },\n    computedHeight (): number | string {\n      if (this.height) {\n        return isNaN(parseInt(this.height)) ? this.height : parseInt(this.height)\n      }\n\n      return this.window ? 32 : 24\n    },\n    styles (): object {\n      return {\n        height: convertToUnit(this.computedHeight),\n      }\n    },\n  },\n\n  methods: {\n    updateApplication () {\n      return this.$el\n        ? this.$el.clientHeight\n        : this.computedHeight\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-system-bar',\n      class: this.classes,\n      style: this.styles,\n      on: this.$listeners,\n    }\n\n    return h('div', this.setBackgroundColor(this.color, data), getSlot(this))\n  },\n})\n","import { render, staticRenderFns } from \"./Tweets.vue?vue&type=template&id=6d0751fe&scoped=true&\"\nimport script from \"./Tweets.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tweets.vue?vue&type=style&index=0&id=6d0751fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d0751fe\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\ninstallComponents(component, {VCard,VContainer,VSystemBar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-3\",staticStyle:{\"border-bottom\":\"thin solid rgba(0, 0, 0, 0.12)\"},attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-row',{staticClass:\"pa-0\",staticStyle:{\"flex-wrap\":\"nowrap\"},attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-1\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.tweet.User.id } }}},[_c('v-avatar',{staticClass:\"mt-1\"},[_c('v-img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.User.avatar),\"alt\":_vm.tweet.User.name}})],1)],1)],1),_c('v-col',{staticClass:\"flex-shrink-1\",attrs:{\"cols\":\"11\"}},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'tweet', params: { id: _vm.tweet.id } }}},[_c('v-row',{staticClass:\"pa-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('p',{staticClass:\"subtitle-2 font-weight-bold mr-1 my-0 pa-0\"},[_vm._v(\" \"+_vm._s(_vm.tweet.User.name)+\" \")]),_c('p',{staticClass:\"subtitle-2 grey--text font-weight-regular my-0 pa-0\"},[_vm._v(\" @\"+_vm._s(_vm.tweet.User.account)+\" \")]),_c('p',{staticClass:\"subtitle-2 font-weight-regular grey--text pa-0 my-0 ml-1\"},[_vm._v(\" ‧ \"+_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt))+\" \")])]),_c('v-row',{staticClass:\"font-weight-normal px-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"12\"}},[_c('p',{staticClass:\"body-2 black--text font-weight-normal text-justify my-0\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")])])],1)],1),_c('v-row',{staticClass:\"font-weight-normal pa-2\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"d-flex justify-space-between mr-5\",attrs:{\"cols\":\"1\"}},[_c('div',{staticClass:\"d-flex align-center cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.replyTweet.apply(null, arguments)}}},[_c('v-icon',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"color\":\"grey\"}},[_vm._v(\"far fa-comment\")]),_c('p',{staticClass:\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-2\"},[_vm._v(\" \"+_vm._s(_vm.tweet.replyCounts)+\" \")])],1)]),_c('v-col',{staticClass:\"d-flex justify-space-between ml-5\",attrs:{\"cols\":\"1\"}},[_c('div',{staticClass:\"d-flex align-center\",class:_vm.cursorStyle},[(!_vm.tweet.isLiked)?_c('v-icon',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"disabled\":_vm.currentUser.id === _vm.tweet.User.id,\"color\":\"grey\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(_vm.tweet.id)}}},[_vm._v(\"far fa-heart\")]):_c('v-icon',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"disabled\":_vm.currentUser.id === _vm.tweet.User.id,\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteLike(_vm.tweet.id)}}},[_vm._v(\"fas fa-heart\")]),_c('p',{staticClass:\"subtitle-2 grey--text pa-0 my-0 ml-2\"},[_vm._v(\" \"+_vm._s(_vm.tweet.likeCounts)+\" \")])],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card\r\n    flat\r\n    tile\r\n    class=\"pa-3\"\r\n    style=\"border-bottom: thin solid rgba(0, 0, 0, 0.12)\"\r\n  >\r\n    <v-row no-gutters class=\"pa-0\" style=\"flex-wrap: nowrap\">\r\n      <v-col class=\"flex-grow-1\">\r\n        <router-link :to=\"{ name: 'user', params: { id: tweet.User.id } }\">\r\n          <v-avatar class=\"mt-1\">\r\n            <v-img\r\n              :src=\"tweet.User.avatar | emptyImage\"\r\n              :alt=\"tweet.User.name\"\r\n            ></v-img>\r\n          </v-avatar>\r\n        </router-link>\r\n      </v-col>\r\n      <v-col cols=\"11\" class=\"flex-shrink-1\">\r\n        <router-link\r\n          :to=\"{ name: 'tweet', params: { id: tweet.id } }\"\r\n          style=\"text-decoration: none\"\r\n        >\r\n          <v-row no-gutters align=\"center\" class=\"pa-2\">\r\n            <p class=\"subtitle-2 font-weight-bold mr-1 my-0 pa-0\">\r\n              {{ tweet.User.name }}\r\n            </p>\r\n            <p class=\"subtitle-2 grey--text font-weight-regular my-0 pa-0\">\r\n              @{{ tweet.User.account }}\r\n            </p>\r\n            <p class=\"subtitle-2 font-weight-regular grey--text pa-0 my-0 ml-1\">\r\n              ‧ {{ tweet.createdAt | fromNow }}\r\n            </p>\r\n          </v-row>\r\n          <v-row no-gutters align=\"center\" class=\"font-weight-normal px-2\">\r\n            <v-col cols=\"12\" class=\"ma-0 pa-0\">\r\n              <p\r\n                class=\"body-2 black--text font-weight-normal text-justify my-0\"\r\n              >\r\n                {{ tweet.description }}\r\n              </p>\r\n            </v-col>\r\n          </v-row>\r\n        </router-link>\r\n        <v-row no-gutters align=\"center\" class=\"font-weight-normal pa-2\">\r\n          <v-col cols=\"1\" class=\"d-flex justify-space-between mr-5\">\r\n            <div\r\n              class=\"d-flex align-center cursor-pointer\"\r\n              @click.stop.prevent=\"replyTweet\"\r\n            >\r\n              <v-icon color=\"grey\" style=\"font-size: 18px\"\r\n                >far fa-comment</v-icon\r\n              >\r\n              <p\r\n                class=\"subtitle-2 font-weight-normal grey--text pa-0 my-0 ml-2\"\r\n              >\r\n                {{ tweet.replyCounts }}\r\n              </p>\r\n            </div>\r\n          </v-col>\r\n          <v-col cols=\"1\" class=\"d-flex justify-space-between ml-5\">\r\n            <!-- isLiked / !isLiked -->\r\n            <div class=\"d-flex align-center\" :class=\"cursorStyle\">\r\n              <v-icon\r\n                :disabled=\"currentUser.id === tweet.User.id\"\r\n                v-if=\"!tweet.isLiked\"\r\n                color=\"grey\"\r\n                @click.stop.prevent=\"addLike(tweet.id)\"\r\n                style=\"font-size: 18px\"\r\n                >far fa-heart</v-icon\r\n              >\r\n              <v-icon\r\n                v-else\r\n                :disabled=\"currentUser.id === tweet.User.id\"\r\n                color=\"red\"\r\n                @click.stop.prevent=\"deleteLike(tweet.id)\"\r\n                style=\"font-size: 18px\"\r\n                >fas fa-heart</v-icon\r\n              >\r\n              <p class=\"subtitle-2 grey--text pa-0 my-0 ml-2\">\r\n                {{ tweet.likeCounts }}\r\n              </p>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n    </v-row>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\r\nimport { mapMutations } from \"vuex\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"TweetCard\",\r\n  props: {\r\n    initialTweet: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  mixins: [fromNowFilter, emptyImageFilter],\r\n  data() {\r\n    return {\r\n      tweet: {\r\n        ...this.initialTweet,\r\n      },\r\n      // tweetReplyDialogOpen: false,\r\n    };\r\n  },\r\n  computed: {\r\n    cursorStyle() {\r\n      return this.currentUser.id === this.tweet.User.id\r\n        ? \"cursor-normal\"\r\n        : \"cursor-pointer\";\r\n    },\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  methods: {\r\n    replyTweet() {\r\n      // console.log(\"replyTweet\");\r\n      // 把要回覆的該則推文傳給 store\r\n      this.setTweet(this.tweet);\r\n      // this.tweetReplyDialogOpen = true;\r\n      this.setTweetReplyDialogOpen(true);\r\n    },\r\n    ...mapMutations({\r\n      setTweet: \"tweets/setTweet\",\r\n      setTweetReplyDialogOpen: \"tweets/setTweetReplyDialogOpen\",\r\n    }),\r\n    // TODO: 在個人頁面的即時更新\r\n    async addLike(tweetId) {\r\n      try {\r\n        // 只能按別人的\r\n        if (this.tweet.User.id === this.currentUser.id) {\r\n          Toast.fire({\r\n            icon: \"error\",\r\n            title: \"無法將自己的推文加入LIKE\",\r\n          });\r\n          this.isLoading = false;\r\n          return;\r\n        }\r\n        const { data } = await usersAPI.addLike({ tweetId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: true,\r\n          likeCounts: this.tweet.likeCounts + 1,\r\n        };\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法將推文加入LIKE，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async deleteLike(tweetId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteLike({ tweetId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: false,\r\n          likeCounts: this.tweet.likeCounts - 1,\r\n        };\r\n\r\n        this.$emit(\"after-delete-like\", tweetId);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法將推文移除LIKE，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.cursor-pointer {\r\n  cursor: pointer;\r\n}\r\n.cursor-normal {\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetCard.vue?vue&type=template&id=9cbdb80e&\"\nimport script from \"./TweetCard.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetCard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VCard,VCol,VIcon,VImg,VRow})\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"sourceRoot":""}