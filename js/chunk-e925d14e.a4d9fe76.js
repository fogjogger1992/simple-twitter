(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e925d14e"],{"05386":function(t,e,i){},1681:function(t,e,i){},"169a":function(t,e,i){"use strict";var a=i("5530"),n=i("2909"),s=i("ade3"),o=(i("a9e3"),i("498a"),i("caad"),i("2532"),i("7db0"),i("368e"),i("480e")),r=i("4ad4"),c=i("b848"),l=i("75eb"),u=i("e707"),d=i("e4d3"),h=i("21be"),v=i("f2e7"),f=i("a293"),m=i("58df"),p=i("d9bd"),g=i("80d2"),b=Object(m["a"])(r["a"],c["a"],l["a"],u["a"],d["a"],h["a"],v["a"]);e["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:f["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(s["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(s["a"])(t,"v-dialog--active",this.isActive),Object(s["a"])(t,"v-dialog--persistent",this.persistent),Object(s["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(s["a"])(t,"v-dialog--scrollable",this.scrollable),Object(s["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(p["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):u["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===g["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=Object(n["a"])(i).find((function(t){return!t.hasAttribute("disabled")}));a&&a.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(o["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(a["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(g["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(g["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"16b7":function(t,e,i){"use strict";i("a9e3");var a=i("2b0e");e["a"]=a["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(t,e){var i=this;this.clearDelay();var a=parseInt(this["".concat(t,"Delay")],10);this["".concat(t,"Timeout")]=setTimeout(e||function(){i.isActive={open:!0,close:!1}[t]},a)}}})},1869:function(t,e,i){"use strict";i("05386")},"21be":function(t,e,i){"use strict";var a=i("2909"),n=(i("99af"),i("caad"),i("2532"),i("2b0e")),s=i("80d2");e["a"]=n["a"].extend().extend({name:"stackable",data:function(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(s["t"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.$el,i=[this.stackMinZIndex,Object(s["t"])(e)],n=[].concat(Object(a["a"])(document.getElementsByClassName("v-menu__content--active")),Object(a["a"])(document.getElementsByClassName("v-dialog__content--active"))),o=0;o<n.length;o++)t.includes(n[o])||i.push(Object(s["t"])(n[o]));return Math.max.apply(Math,i)}}})},"315d":function(t,e,i){"use strict";i("3733")},"368e":function(t,e,i){},3733:function(t,e,i){},"3a5e":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center"},[i("v-overlay",{attrs:{value:t.showOverlayLoading,"z-index":"203"}},[i("div",{staticClass:"text-h6 white--text text-center pb-8 pl-2"},[t._v("Loading...")]),i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},n=[],s=i("5530"),o=i("2f62"),r={name:"Loading",computed:Object(s["a"])({},Object(o["d"])({showOverlayLoading:function(t){return t.showOverlayLoading}}))},c=r,l=i("2877"),u=i("6544"),d=i.n(u),h=i("a797"),v=i("490a"),f=Object(l["a"])(c,a,n,!1,null,null,null);e["a"]=f.exports;d()(f,{VOverlay:h["a"],VProgressCircular:v["a"]})},"480e":function(t,e,i){"use strict";i("7db0");var a=i("7560");e["a"]=a["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:a["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}})},"4ad4":function(t,e,i){"use strict";var a=i("53ca"),n=(i("caad"),i("b64b"),i("b0c0"),i("16b7")),s=i("f2e7"),o=i("58df"),r=i("80d2"),c=i("d9bd"),l=Object(o["a"])(n["a"],s["a"]);e["a"]=l.extend({name:"activatable",props:{activator:{default:null,validator:function(t){return["string","object"].includes(Object(a["a"])(t))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:function(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}},watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted:function(){var t=Object(r["s"])(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(c["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function(){this.removeActivatorEvents()},methods:{addActivatorEvents:function(){if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();for(var t=Object.keys(this.listeners),e=0,i=t;e<i.length;e++){var a=i[e];this.getActivator().addEventListener(a,this.listeners[a])}}},genActivator:function(){var t=Object(r["r"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes:function(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners:function(){var t=this;if(this.disabled)return{};var e={};return this.openOnHover?(e.mouseenter=function(e){t.getActivator(e),t.runDelay("open")},e.mouseleave=function(e){t.getActivator(e),t.runDelay("close")}):e.click=function(e){var i=t.getActivator(e);i&&i.focus(),e.stopPropagation(),t.isActive=!t.isActive},this.openOnFocus&&(e.focus=function(e){t.getActivator(e),e.stopPropagation(),t.isActive=!t.isActive}),e},getActivator:function(t){var e;if(this.activatorElement)return this.activatorElement;var i=null;if(this.activator){var a=this.internalActivator?this.$el:document;i="string"===typeof this.activator?a.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){var n=this.activatorNode[0].componentInstance;i=n&&n.$options.mixins&&n.$options.mixins.some((function(t){return t.options&&["activatable","menuable"].includes(t.options.name)}))?n.getActivator():this.activatorNode[0].elm}else t&&(i=t.currentTarget||t.target);return this.activatorElement=(null==(e=i)?void 0:e.nodeType)===Node.ELEMENT_NODE?i:null,this.activatorElement},getContentSlot:function(){return Object(r["r"])(this,"default",this.getValueProxy(),!0)},getValueProxy:function(){var t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents:function(){if(this.activator&&this.activatorElement){for(var t=Object.keys(this.listeners),e=0,i=t;e<i.length;e++){var a=i[e];this.activatorElement.removeEventListener(a,this.listeners[a])}this.listeners={}}},resetActivator:function(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},6783:function(t,e,i){"use strict";var a=i("2fa3");e["a"]={getTweets:function(){return a["b"].get("/tweets")},createTweet:function(t){var e=t.tweetData;return a["b"].post("/tweets",e)},getTweet:function(t){var e=t.tweetId;return a["b"].get("/tweets/".concat(e))},getTweetReplies:function(t){var e=t.tweetId;return a["b"].get("/tweets/".concat(e,"/replies"))}}},"75eb":function(t,e,i){"use strict";var a=i("ade3"),n=i("53ca"),s=(i("159b"),i("9d65")),o=i("80d2"),r=i("58df"),c=i("d9bd");function l(t){var e=Object(n["a"])(t);return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}e["a"]=Object(r["a"])(s["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:l},contentClass:{type:String,default:""}},data:function(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:function(){this.$nextTick(this.initDetach)}},beforeMount:function(){var t=this;this.$nextTick((function(){if(t.activatorNode){var e=Array.isArray(t.activatorNode)?t.activatorNode:[t.activatorNode];e.forEach((function(e){if(e.elm&&t.$el.parentNode){var i=t.$el===t.$el.parentNode.firstChild?t.$el:t.$el.nextSibling;t.$el.parentNode.insertBefore(e.elm,i)}}))}}))},mounted:function(){this.hasContent&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){var t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach((function(t){t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}}catch(e){console.log(e)}},methods:{getScopeIdAttrs:function(){var t=Object(o["o"])(this.$vnode,"context.$options._scopeId");return t&&Object(a["a"])({},t,"")},initDetach:function(){var t;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||(t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):Object(c["c"])("Unable to locate target ".concat(this.attach||"[data-app]"),this))}}})},a844:function(t,e,i){"use strict";var a=i("5530"),n=(i("a9e3"),i("1681"),i("8654")),s=i("58df"),o=Object(s["a"])(n["a"]);e["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(a["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},n["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"}},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){n["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},d366:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticStyle:{"max-width":"1440px"}},[i("v-row",[i("v-col",{staticClass:"sidenavcol pa-0",attrs:{cols:"12",md:"3"}},[i("SideNavBar",{attrs:{"current-user":t.currentUser}})],1),i("v-col",{staticClass:"pa-0 maincol",attrs:{cols:"12",md:"9"}},[i("v-container",{staticClass:"ma-0 pa-0"},[i("router-view")],1)],1)],1)],1)},n=[],s=i("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"sidenav d-flex flex-column py-0 my-0"},[a("v-row",{staticClass:"flex-grow-1 flex-shrink-0 py-0 my-0 px-8",attrs:{cols:"1"}},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"mt-5"},[a("router-link",{attrs:{to:"/tweets"}},[a("v-img",{attrs:{src:i("1ae4"),"max-width":"35"}})],1)],1),a("v-list",{staticClass:"mt-2 mr-0",attrs:{flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(t.items,(function(e,i){return a("v-list-item",{key:i,staticClass:"pl-0 pr-0",attrs:{to:e.link,link:""}},[a("v-list-item-icon",{staticClass:"mr-4"},[a("v-icon",{domProps:{textContent:t._s(e.icon)}}),e.new?a("v-badge",{attrs:{color:"primary",dot:"",overlap:""}}):t._e()],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)})),1)],1),a("v-btn",{staticClass:"mt-2",attrs:{block:"",rounded:"",color:"primary",dark:""},on:{click:function(){t.tweetDialogOpen=!0}}},[t._v(" 推文 ")])],1)],1),a("NewTweetModal",{attrs:{tweetDialogOpen:t.tweetDialogOpen},on:{"update:tweetDialogOpen":function(e){t.tweetDialogOpen=e},"update:tweet-dialog-open":function(e){t.tweetDialogOpen=e}}}),t.tweetReplyDialogOpen?a("NewTweetReplyModal"):t._e(),a("Loading"),a("v-row",{staticClass:"flex-grow-0 flex-shrink-0 py-0 my-0 px-8",attrs:{cols:"1"}},[a("v-col",{staticClass:"py-5 my-0",attrs:{cols:"12"}},[a("v-btn",{staticClass:"btnsignout",attrs:{block:"",rounded:"",color:"white"},on:{click:t.logout}},[a("v-icon",[t._v("mdi-logout-variant")]),t._v(" 登出 ")],1)],1)],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{persistent:"","max-width":"550px"},model:{value:t.tweetDialogOpen,callback:function(e){t.tweetDialogOpen=e},expression:"tweetDialogOpen"}},[i("v-card",[i("v-card-title",{staticClass:"pa-2"},[i("v-btn",{attrs:{icon:"",color:"primary",disabled:t.btnLoading},on:{click:function(e){return t.$emit("update:tweetDialogOpen",!1)}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-text",[i("v-container",{staticClass:"pa-0"},[i("v-row",[i("v-col",{attrs:{cols:"2"}},[i("v-avatar",{staticClass:"avatar-border",attrs:{size:"60"}},[i("v-img",{attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:t.currentUser.name}})],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-textarea",{attrs:{label:"有什麼新鮮事？",counter:"140",maxlength:"140",rules:[t.rules.required,t.rules.tweetRules,t.rules.spaceRules],required:""},model:{value:t.description,callback:function(e){t.description="string"===typeof e?e.trim():e},expression:"description"}})],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mb-3",attrs:{color:"primary",rounded:"",small:"",depressed:"",loading:t.btnLoading,disabled:!t.valid},on:{click:t.postTweet}},[t._v(" 推文 ")])],1)],1)],1)],1)},l=[],u=i("1da1"),d=(i("96cf"),i("a4d3"),i("e01a"),i("6783")),h=i("2f62"),v=i("2fa3"),f=i("2708"),m={props:{tweetDialogOpen:{type:Boolean}},inject:["reload"],mixins:[f["a"]],data:function(){return{valid:!0,description:"",btnLoading:!1,rules:{required:function(t){return!!t||"必填"},tweetRules:function(t){return t&&t.length<=140||"推文不得超過140個字"},spaceRules:function(t){return/[^\s]/.test(t)||"必填，不能只輸入空格"}}}},watch:{tweetDialogOpen:function(){this.description="",this.resetForm()}},methods:Object(s["a"])({postTweet:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.btnLoading=!0,e.next=4,t.fetchCurrentUser();case 4:return i={userId:t.currentUser.id,description:t.description},e.next=7,d["a"].createTweet({tweetData:i});case 7:if(a=e.sent,n=a.data,t.btnLoading=!1,"success"===n.status){e.next=13;break}throw v["a"].fire({icon:"error",title:"推文失敗，".concat(n.message)}),new Error(n.message);case 13:t.$emit("update:tweetDialogOpen",!1),t.description="",v["a"].fire({icon:"success",title:"推文成功"}),t.reload(),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](0),t.btnLoading=!1,console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))()},resetForm:function(){void 0!==this.$refs.form&&this.$refs.form.reset()}},Object(h["b"])({fetchCurrentUser:"fetchCurrentUser"})),computed:Object(s["a"])({},Object(h["d"])({currentUser:function(t){return t.currentUser}}))},p=m,g=i("2877"),b=i("6544"),w=i.n(b),y=i("8212"),x=i("8336"),O=i("b0af"),C=i("99d9"),k=i("62ad"),A=i("a523"),$=i("169a"),j=i("4bd4"),I=i("132d"),D=i("adda"),V=i("0fd9"),T=i("2fa4"),_=i("a844"),E=Object(g["a"])(p,c,l,!1,null,null,null),N=E.exports;w()(E,{VAvatar:y["a"],VBtn:x["a"],VCard:O["a"],VCardActions:C["a"],VCardText:C["c"],VCardTitle:C["d"],VCol:k["a"],VContainer:A["a"],VDialog:$["a"],VForm:j["a"],VIcon:I["a"],VImg:D["a"],VRow:V["a"],VSpacer:T["a"],VTextarea:_["a"]});var B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{persistent:"","max-width":"550px"},model:{value:t.tweetReplyDialogOpen,callback:function(e){t.tweetReplyDialogOpen=e},expression:"tweetReplyDialogOpen"}},[i("v-card",[i("v-card-title",{staticClass:"pa-2"},[i("v-btn",{attrs:{icon:"",color:"primary",disabled:t.btnLoading},on:{click:function(e){return t.setTweetReplyDialogOpen(!1)}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-text",{staticClass:"pt-2"},[i("v-container",{staticClass:"pa-0"},[i("v-row",[i("v-col",{attrs:{cols:"2"}},[i("v-avatar",{staticClass:"avatar-border",attrs:{size:"60"}},[i("v-img",{attrs:{src:t._f("emptyImage")(t.tweetInfo.User.avatar),alt:"Avatar"}})],1)],1),i("v-col",{attrs:{cols:"10"}},[i("span",{staticClass:"text-body-2"},[t._v(t._s(t.tweetInfo.User.name))]),i("span",{staticClass:"ml-2 text-body-2 grey--text text--darken-1"},[t._v(" @"+t._s(t.tweetInfo.User.account)+" • "+t._s(t._f("fromNow")(t.tweetInfo.createdAt))+" ")]),i("v-spacer"),i("div",{staticClass:"text-body-2 grey--text text--darken-3 mt-3"},[t._v(" "+t._s(t.tweetInfo.description)+" ")])],1)],1)],1)],1),i("v-card-text",[i("v-divider",{attrs:{inset:""}}),i("v-container",{staticClass:"pa-0 mt-4"},[i("v-row",[i("v-col",{attrs:{cols:"2"}},[i("v-avatar",{staticClass:"avatar-border",attrs:{size:"60"}},[i("v-img",{attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:"Avatar"}})],1)],1),i("v-col",{attrs:{cols:"10"}},[i("div",{staticClass:"mt-2"},[t._v("回覆給 "),i("span",{staticClass:"primary--text"},[t._v(" @"+t._s(t.tweetInfo.User.account))])]),i("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-textarea",{attrs:{label:"推你的回覆",counter:"140",maxlength:"140",rules:[t.rules.required,t.rules.tweetRules,t.rules.spaceRules],required:""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mb-3",attrs:{color:"primary",rounded:"",small:"",depressed:"",disabled:!t.valid,loading:t.btnLoading},on:{click:t.replyTweet}},[t._v(" 回覆 ")])],1)],1)],1)],1)},R=[],S=(i("b0c0"),{createReply:function(t){var e=t.tweetId,i=t.replyData;return v["b"].post("/tweets/".concat(e,"/replies"),i)}}),L={props:{},inject:["reload"],mixins:[f["b"],f["a"]],data:function(){return{valid:!0,comment:"",btnLoading:!1,rules:{required:function(t){return!!t||"必填"},tweetRules:function(t){return t&&t.length<=140||"回文不得超過140個字"},spaceRules:function(t){return/[^\s]/.test(t)||"必填，不能只輸入空格"}}}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchCurrentUser();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},watch:{tweetReplyDialogOpen:function(){this.comment="",this.resetForm()}},methods:Object(s["a"])(Object(s["a"])({replyTweet:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.btnLoading=!0,i={userId:t.currentUser.id,comment:t.comment},e.next=5,S.createReply({tweetId:t.tweetInfo.id,replyData:i});case 5:if(a=e.sent,n=a.data,t.btnLoading=!1,"success"===n.status){e.next=11;break}throw v["a"].fire({icon:"error",title:"回覆失敗，，".concat(n.message)}),new Error(n.message);case 11:t.setTweetReplyDialogOpen(!1),t.comment="",v["a"].fire({icon:"success",title:"回覆成功"}),"tweet"!=t.$route.name?t.$router.push("/tweets/".concat(t.tweetInfo.id)):t.reload(),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](0),t.btnLoading=!1,console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))()},resetForm:function(){void 0!==this.$refs.form&&this.$refs.form.reset()}},Object(h["b"])({fetchCurrentUser:"fetchCurrentUser"})),Object(h["c"])({setTweetReplyDialogOpen:"tweets/setTweetReplyDialogOpen"})),computed:Object(s["a"])({},Object(h["d"])({tweetInfo:function(t){return t.tweets.tweetInfo},currentUser:function(t){return t.currentUser},tweetReplyDialogOpen:function(t){return t.tweets.tweetReplyDialogOpen}}))},U=L,M=i("ce7e"),F=Object(g["a"])(U,B,R,!1,null,null,null),H=F.exports;w()(F,{VAvatar:y["a"],VBtn:x["a"],VCard:O["a"],VCardActions:C["a"],VCardText:C["c"],VCardTitle:C["d"],VCol:k["a"],VContainer:A["a"],VDialog:$["a"],VDivider:M["a"],VForm:j["a"],VIcon:I["a"],VImg:D["a"],VRow:V["a"],VSpacer:T["a"],VTextarea:_["a"]});var z=i("3a5e"),P={name:"SideNavBar",components:{NewTweetModal:N,NewTweetReplyModal:H,Loading:z["a"]},props:{currentUser:{type:Object,required:!0}},data:function(){return{tweetDialogOpen:!1,selectedItem:0,items:[{text:"首頁",icon:"mdi-home-variant-outline",link:"/tweets",new:!1},{text:"通知",icon:"mdi-bell-outline",link:"/notification",new:!1},{text:"公開聊天室",icon:"mdi-email-outline",link:"/chatroom",new:!1},{text:"私人訊息",icon:"mdi-email-outline",link:"/message",new:!1},{text:"個人資料",icon:"mdi-account-outline",link:"/users/"+this.currentUser.id,new:!1},{text:"設定",icon:"mdi-cog-outline",link:"/setting",new:!1}]}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin"),v["a"].fire({icon:"success",title:"已成功登出"})}},computed:Object(s["a"])({},Object(h["d"])({tweetReplyDialogOpen:function(t){return t.tweets.tweetReplyDialogOpen}}))},q=P,Z=(i("315d"),i("15fd")),G=(i("a9e3"),i("ff44"),i("a9ad")),X=i("7560"),W=i("f2e7"),Y=i("f40d"),K=i("fe6c"),J=i("58df"),Q=i("80d2"),tt=["aria-atomic","aria-label","aria-live","role","title"],et=Object(J["a"])(G["a"],Object(K["b"])(["left","bottom"]),X["a"],W["a"],Y["a"]).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return Object(s["a"])({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(Q["g"])(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),i=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),a=this.$createElement("span",i,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[a]):a},genBadgeContent:function(){if(!this.dot){var t=Object(Q["r"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(I["a"],this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],i=[Object(Q["r"])(this)],a=this.$attrs,n=(a["aria-atomic"],a["aria-label"],a["aria-live"],a.role,a.title,Object(Z["a"])(a,tt));return this.inline&&this.left?i.unshift(e):i.push(e),t("span",{staticClass:"v-badge",attrs:n,class:this.classes},i)}}),it=i("8860"),at=i("da13"),nt=i("5d23"),st=i("1baa"),ot=i("34c3"),rt=Object(g["a"])(q,o,r,!1,null,"ed58f0d6",null),ct=rt.exports;w()(rt,{VBadge:et,VBtn:x["a"],VCol:k["a"],VContainer:A["a"],VIcon:I["a"],VImg:D["a"],VList:it["a"],VListItem:at["a"],VListItemContent:nt["a"],VListItemGroup:st["a"],VListItemIcon:ot["a"],VListItemTitle:nt["b"],VRow:V["a"]});var lt={name:"HomeSideNavBar",components:{SideNavBar:ct},computed:Object(s["a"])({},Object(h["d"])(["currentUser"]))},ut=lt,dt=(i("1869"),Object(g["a"])(ut,a,n,!1,null,"161a1dfd",null));e["default"]=dt.exports;w()(dt,{VCol:k["a"],VContainer:A["a"],VRow:V["a"]})},e4d3:function(t,e,i){"use strict";var a=i("2b0e");e["a"]=a["a"].extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(t){var e=this;this.originalValue=t,setTimeout((function(){e.isActive=!1}))}}})},ff44:function(t,e,i){}}]);
//# sourceMappingURL=chunk-e925d14e.a4d9fe76.js.map